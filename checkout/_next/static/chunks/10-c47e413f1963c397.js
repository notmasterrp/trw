(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10],{3743:function(e,t,a){"use strict";a.d(t,{k:function(){return AddressForm}});var n=a(7437),r=a(2536),s=a.n(r),o=a(2744),c=a.n(o),d=a(2265),u=a(4771),m=a(4220),p=a(6862);let h={google:{placesKey:"AIzaSyDB8uQByaJpgr63HWNlDmq3qaZhYTJ91IM",geocodeKey:"AIzaSyDn4Xqt8NiAnSHyjDxy5REmG4I1N33er6A"}},x={geolocate:async()=>{try{let e=await fetch("https://www.googleapis.com/geolocation/v1/geolocate?key=".concat(h.google.geocodeKey),{method:"POST"}),t=await e.json();try{let e=await fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t.location.lat,",").concat(t.location.lng,"&key=").concat(h.google.geocodeKey)),{results:a}=await e.json(),n=x.parsePlace(a.flatMap(e=>e.address_components));return{latitude:t.location.lat,longitude:t.location.lng,...n}}catch(e){return{latitude:t.location.lat,longitude:t.location.lng,countryShort:""}}}catch(e){return{latitude:null,longitude:null,countryShort:""}}},parsePlace:e=>{let t={streetNumber:placeGet("street_number"),streetName:placeGet("route"),city:placeGet("locality")||placeGet("sublocality")||placeGet("sublocality_level_1")||placeGet("neighborhood")||placeGet("administrative_area_level_3")||placeGet("administrative_area_level_2"),county:placeGet("administrative_area_level_2"),stateShort:placeGet("administrative_area_level_1",!0),stateLong:placeGet("administrative_area_level_1"),countryShort:placeGet("country",!0),countryLong:placeGet("country"),zipCode:placeGet("postal_code"),address:""};return t.address=[t.streetNumber,t.streetName].filter(Boolean).join(" "),t;function placeGet(t,a){let n=e.find(e=>e.types.includes(t));return(a?null==n?void 0:n.short_name:null==n?void 0:n.long_name)||""}}};var g=a(5765);let y=["places"],useAddressInputState=e=>{let{onAddress:t}=e,{isLoaded:a}=(0,m.m)({googleMapsApiKey:h.google.placesKey,libraries:y}),{ready:n,value:r,suggestions:{status:s,data:o,loading:c},setValue:p,clearSuggestions:g,init:f}=(0,u.ZP)({requestOptions:{},debounce:300,initOnMount:!1});(0,d.useEffect)(()=>{a&&(console.debug("Initializing address suggestions"),f())},[f,a]);let[v,b]=(0,d.useState)(!1);(0,d.useEffect)(()=>{if(!c)return;let e=setTimeout(()=>{b(!0)},1500);return()=>{clearTimeout(e)}},[c]);let w=d.useRef(!1);return{value:r,handleInput:e=>{p(e.target.value)},handleSelect:e=>{let{description:a}=e;return()=>{w.current||(w.current=!0,p(a,!1),g(),(0,u.LM)({address:a}).then(e=>{try{t(x.parsePlace(e[0].address_components))}catch(e){console.error("parsePlace error",e),t(void 0)}}))}},ready:n,suggestions:{status:s,data:o,loading:c},takingLongTime:v,clearSuggestions:g}},AddressInput=e=>{let{onAddress:t,inputProps:a,...r}=e,{value:s,handleInput:o,handleSelect:d,ready:u,suggestions:m,clearSuggestions:h,takingLongTime:x}=useAddressInputState({onAddress:t}),y=(0,p.Z)(()=>{m.data.length>0?setTimeout(()=>{d(m.data[0])()},1):setTimeout(()=>h(),1)}),{className:f,...v}=a||{};return(0,n.jsxs)("div",{ref:y,...r,className:"relative w-full",children:[(0,n.jsx)("input",{...v,autoComplete:"off",onFocus:e=>{var a;if(!u)return t();null===(a=v.onFocus)||void 0===a||a.call(v,e)},className:c()("input input-bordered w-full",f,"OK"===m.status&&"border-b-none rounded-b-none"),value:s,onChange:o}),m.loading&&(0,n.jsx)(g.$,{className:"animate-spin absolute right-[8px] top-[4px]"}),("OK"===m.status||x)&&(0,n.jsxs)("ul",{className:"absolute menu bg-[#0D1016] w-full z-10 left-0 top-[47px] border border-primary-content border-opacity-40 rounded-b py-0",children:[m.data.map(e=>{let{place_id:t,structured_formatting:{main_text:a,secondary_text:r}}=e;return(0,n.jsx)("li",{onClick:d(e),className:"border-b border-primary-content border-opacity-40",children:(0,n.jsxs)("div",{className:"flex flex-col gap-0 px-0 py-1",children:[(0,n.jsx)("div",{className:"font-extrabold mr-auto text-primary-content",children:a}),(0,n.jsx)("div",{className:"text-[10px] h-[14px] leading-[14px] mr-auto",children:r})]})},t)}),(0,n.jsx)("li",{onClick:()=>t(void 0),children:(0,n.jsx)("div",{className:"flex flex-col gap-0 px-0 py-1 h-[34px]",children:(0,n.jsx)("div",{className:"font-bold my-auto mr-auto text-accent",children:"I don't see my address…"})})},"last")]})]})};var f=a(753),v=a(5010);let AddressForm=()=>{let{requiresAddress:e,editFullAddress:t,address:a,setEditFullAddress:r,setAddress:o,setZipCode:d,setCountryCode:u,zipCode:m,showValidationErrors:p,shownValidationErrors:h}=(0,v.r9)(),x=c()("label-text-alt text-error",{hidden:!p}),getInputClasses=(e,t)=>c()("input w-full",{"border-primary-content border-opacity-40":!p&&(""===t||h[e]),"border-primary-content":!h[e],"border-error":p&&h[e]});return(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsxs)(n.Fragment,{children:[!t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Billing Address"}),(0,n.jsx)("span",{className:x,children:h.address})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(AddressInput,{inputProps:{onFocus:()=>{a.address&&r(!0)},placeholder:"Billing Address",className:getInputClasses("address",a.address)},onAddress:e=>{e&&(o({address:e.address.slice(0,50),city:e.city,state:e.stateShort,country:e.countryShort}),d(e.zipCode),u(e.countryShort.toUpperCase())),r(!0)}}),!!a.address&&(0,n.jsx)("div",{className:"border border-gray-200 rounded-l-none cursor-pointer h-[30px] flex items-center justify-center w-[30px]",onClick:()=>r(!0),children:(0,n.jsx)(f.Z,{className:"w-[24px] h-[24px]"})})]})]}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Street Address"}),(0,n.jsx)("span",{className:x,children:h.address})]}),(0,n.jsx)("input",{className:getInputClasses("address",a.address),type:"text",placeholder:"Street Address",onChange:e=>{o(t=>({...t,address:e.target.value}))},value:a.address,maxLength:50}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("div",{className:"mr-[15px] grow",children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"City"}),(0,n.jsx)("span",{className:x,children:h.city})]}),(0,n.jsx)("input",{className:getInputClasses("city",a.city),onChange:e=>{o(t=>({...t,city:e.target.value}))},placeholder:"City",value:a.city})]}),(0,n.jsxs)("div",{className:"grow",children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"State / Province"}),(0,n.jsx)("span",{className:x,children:h.state})]}),(0,n.jsx)("input",{className:getInputClasses("state",a.state),onChange:e=>{o(t=>({...t,state:e.target.value}))},placeholder:"State / Province",value:a.state})]})]})]})]}),(e&&t||!e)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Postal Code"}),(0,n.jsx)("span",{className:x,children:h.zipCode})]}),(0,n.jsx)("input",{autoComplete:"off",className:getInputClasses("zipCode",m),type:"text",placeholder:"Postal Code",onChange:e=>d(e.target.value.trim()),value:m,maxLength:16})]}),e&&t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Country"}),(0,n.jsx)("span",{className:x,children:h.country})]}),(0,n.jsx)("select",{className:getInputClasses("country",a.country),value:a.country,onChange:e=>o(t=>({...t,country:e.target.value})),children:s()().data.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})}},3601:function(e,t,a){"use strict";a.d(t,{M:function(){return CreditCardPaymentForm}});var n=a(7437);a(7695);var r=a(2744),s=a.n(r);a(2265);var o=a(5010),c=a(2870),d=a(3743),u=a(9879),m=a(3986),p=a(1e3),h=a(7108);function CardIcon(e){let{method:t,className:a}=e;if("bank_account"===t.type)return(0,n.jsx)(h.Z,{className:a});let r=(0,p.EQ)(t.brand).with("visa",()=>"/checkout/credit-cards/visa.svg").with("master",()=>"/checkout/credit-cards/mastercard.svg").with("american_express",()=>"/checkout/credit-cards/amex.svg").with("discover",()=>"/checkout/credit-cards/discover.svg").otherwise(()=>"/checkout/credit-cards/generic.svg");return(0,n.jsx)("img",{src:r,alt:"",className:a})}function CardPreview(e){let{paymentMethod:t,className:a}=e;return(0,n.jsxs)("div",{className:(0,m.m)("flex items-center font-mono gap-6",a),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(CardIcon,{method:t,className:"w-8 h-8"}),(0,n.jsx)("span",{className:"text-sm font-bold",children:"bank_account"===t.type?t.last4:[t.bin,"••••",t.last4].filter(Boolean).join(" ")})]}),"bank_account"===t.type?(0,n.jsx)("div",{children:t.name}):(0,n.jsxs)("div",{children:["0".concat(t.month).slice(-2),"/","".concat(t.year).slice(-2)]})]})}var x=a(4437);let CreditCardChoices=()=>{var e;let{showValidationErrors:t,shownValidationErrors:a,cvc:r,setCvc:c,getCVCProps:d,cardType:u,paymentMethods:m,selectedMethodId:p,setSelectedMethodId:h,isNewCard:g,setIsNewCard:y}=(0,o.r9)(),f=s()("label-text-alt text-error",{hidden:!t}),getInputClasses=(e,n)=>s()("input w-full",{"border-primary-content border-opacity-40":!t&&(""===n||a[e]),"border-primary-content":!a[e],"border-error":t&&a[e]}),v=(null==u?void 0:null===(e=u.code)||void 0===e?void 0:e.length)?"x".repeat(u.code.length):"xxx";return(0,n.jsxs)(n.Fragment,{children:[m.map(e=>{let t=!g&&e.id===p;return(0,n.jsxs)("div",{className:s()(t&&"mb-3"),children:[(0,n.jsxs)("div",{className:s()("flex items-center py-2 gap-2 cursor-pointer"),onClick:()=>{t||c(""),y(!1),h(e.id)},children:[(0,n.jsx)("input",{type:"radio",className:s()("radio",t&&"radio-primary"),checked:t}),(0,n.jsx)(CardPreview,{paymentMethod:e,className:"justify-between"})]}),t&&"card"===e.type&&"stripe"!==e.provider&&(0,n.jsxs)("div",{className:"ml-8 mt-[-12px]",children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"CVC"}),(0,n.jsx)("span",{className:f,children:a.cvc})]}),(0,n.jsx)("input",{className:getInputClasses("cvc",r)+" font-sans tracking-credit-card",...d({onChange:e=>c(e.target.value)}),placeholder:v,value:r})]})]},e.id)}),(0,n.jsxs)("div",{className:"flex items-center py-2 gap-2 cursor-pointer",onClick:()=>{g||(y(!0),c(""))},children:[(0,n.jsx)("input",{type:"radio",className:s()("radio",g&&"radio-primary"),checked:g}),(0,n.jsxs)("p",{className:"text-primary flex items-center",children:[(0,n.jsx)(x.Z,{className:"mr-1"}),"ADD NEW CARD"]})]})]})},CreditCardPaymentForm=e=>{var t;let{chromeless:a,className:r}=e,{showValidationErrors:p,shownValidationErrors:h,getCardNumberProps:x,setCardNumber:g,cardNumber:y,getExpiryDateProps:f,setExpiryDate:v,expiryDate:b,phone:w,setPhone:N,cvc:C,setCvc:j,getCardImageProps:S,getCVCProps:k,cardType:P,isAuthenticated:I,paymentMethods:A,selectedMethodId:E,setSelectedMethodId:T,isNewCard:M,merchant:D,setIsNewCard:L,checkout:_,firstName:B,lastName:F,setFirstName:R,setLastName:U}=(0,o.r9)(),O=s()("label-text-alt text-error",{hidden:!p}),getInputClasses=(e,t)=>s()("input w-full",{"border-primary-content border-opacity-40":!p&&(""===t||h[e]),"border-primary-content":!h[e],"border-error":p&&h[e]}),G=(null==P?void 0:null===(t=P.code)||void 0===t?void 0:t.length)?"x".repeat(P.code.length):"xxx";return(0,n.jsx)("div",{className:(0,m.m)("flex flex-col",r),children:(0,n.jsxs)("div",{className:s()("form-control w-full"),children:[I&&A.length>0&&(0,n.jsx)(CreditCardChoices,{}),M&&(0,n.jsxs)("div",{className:s()(I&&"ml-2"),children:[I&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"First Name"}),(0,n.jsx)("span",{className:O,children:h.firstName})]}),(0,n.jsx)("input",{type:"text",placeholder:"First Name",className:getInputClasses("firstName",B),autoComplete:"given-name",value:B,onChange:e=>R(e.target.value.trim())}),(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Last Name"}),(0,n.jsx)("span",{className:O,children:h.lastName})]}),(0,n.jsx)("input",{type:"text",placeholder:"Last Name",className:getInputClasses("lastName",F),autoComplete:"family-name",value:F,onChange:e=>U(e.target.value.trim())})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Card number"}),(0,n.jsx)("span",{className:O,children:h.cardNumber})]}),(0,n.jsx)("input",{className:s()(getInputClasses("cardNumber",y),"pl-[53px]",{"font-sans tracking-credit-card":""===y}),...x({onChange:e=>g(e.target.value)}),value:y,placeholder:"xxxx xxxx xxxx xxxx"}),(0,n.jsx)("svg",{className:"absolute bottom-3 left-4 text-black h-6 w-6",...S({images:c.Z})})]}),(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Expiration Date"}),(0,n.jsx)("span",{className:O,children:h.expiryDate})]}),(0,n.jsx)("input",{className:getInputClasses("expiryDate",b),...f({onChange:e=>v(e.target.value)}),value:b}),(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"CVC"}),(0,n.jsx)("span",{className:O,children:h.cvc})]}),(0,n.jsx)("input",{className:getInputClasses("cvc",C)+" font-sans tracking-credit-card",...k({onChange:e=>j(e.target.value)}),placeholder:G,value:C}),D.requiresPhone&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Phone Number"}),(0,n.jsx)("span",{className:O,children:h.phone})]}),(0,n.jsx)("div",{className:(0,m.m)(getInputClasses("phone",w),"relative flex items-center"),children:(0,n.jsx)(u.ZP,{defaultCountry:_.country,value:w,international:!0,onChange:e=>N(e||""),countrySelectProps:{className:""},numberInputProps:{className:"absolute left-[53px] top-0 right-0 bottom-0 bg-transparent input !border-none !outline-none !py-0"}})})]}),(0,n.jsx)(d.k,{})]})]})})}},7588:function(e,t,a){"use strict";a.r(t),a.d(t,{JOIN_FORM_ID:function(){return H},JoinTRWForm:function(){return Z},PersonalInformationForm:function(){return PersonalInformationForm}});var n=a(7437),r=a(2265),s=a(3601),o=a(2744),c=a.n(o),d=a(5010),u=a(4810),m=a(1396),p=a.n(m),h=a(3928),x=a(6561),g=a(3986),y=a(4814);let f=[/Loading chunk \d+ failed/,/Card authentication failed/,/Card declined/,/Not initialized, refresh and try again/,/Timeout error, 3DS/,/Please fill out all required fields/,/Enter a valid email address/,/Insufficient funds/,/declined the transaction/,/Invalid CVC/i],initSentry=()=>{y.S1({dsn:"https://12566d4f72414778b03b4caa8318682f@o1300137.ingest.sentry.io/4505490306039808",beforeSend(e,t){let a=t.originalException,n=a.message;if("string"==typeof n){for(let e of f)if(e.test(n))return null}return e}})};var arrow=()=>(0,n.jsxs)("div",{className:"scaptcha-icon-container",children:[(0,n.jsx)("svg",{className:"scaptcha-icon-light",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3.44 2.728",height:"10.312",width:"13",children:(0,n.jsx)("g",{transform:"matrix(10.37411 0 0 10.37411 -5.49 -9.923)",children:(0,n.jsx)("path",{d:"M.53 1.088c0-.012.008-.02.02-.02h.228L.71 1C.693.981.697.972.706.962c.01-.01.02-.006.034.006l.12.12-.125.126c-.01.008-.025.006-.03-.002-.01-.014-.008-.021.01-.04l.063-.063H.55C.533 1.11.53 1.1.53 1.09z",fill:"#202020"})})}),(0,n.jsx)("svg",{className:"scaptcha-icon-dark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3.44 2.728",height:"10.312",width:"13",children:(0,n.jsx)("g",{transform:"matrix(10.37411 0 0 10.37411 -5.49 -9.923)",children:(0,n.jsx)("path",{d:"M.53 1.088c0-.012.008-.02.02-.02h.228L.71 1C.693.981.697.972.706.962c.01-.01.02-.006.034.006l.12.12-.125.126c-.01.008-.025.006-.03-.002-.01-.014-.008-.021.01-.04l.063-.063H.55C.533 1.11.53 1.1.53 1.09z",fill:"#c6c6c6"})})})]});a(3145);let imageDataUrl=e=>"data:image/png;base64,".concat(e),v={default:{track:"scaptcha-card-slider-track-default",control:"scaptcha-card-slider-control-default",icon:(0,n.jsx)(arrow,{})},active:{track:"scaptcha-card-slider-track-active",control:"scaptcha-card-slider-control-active",icon:(0,n.jsx)(arrow,{})},success:{track:"scaptcha-card-slider-track-success",control:"scaptcha-card-slider-control-success",icon:(0,n.jsx)(()=>(0,n.jsxs)("div",{className:"scaptcha-icon-container",children:[(0,n.jsx)("svg",{className:"scaptcha-icon-light",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3.44 2.728",height:"10.312",width:"13",children:(0,n.jsx)("path",{d:"M3.37.473L1.187 2.654.098 1.562l.409-.409.68.682L2.96.063z",fill:"#202020"})}),(0,n.jsx)("svg",{className:"scaptcha-icon-dark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3.44 2.728",height:"10.312",width:"13",children:(0,n.jsx)("path",{d:"M3.37.473L1.187 2.654.098 1.562l.409-.409.68.682L2.96.063z",fill:"#c6c6c6"})})]}),{})},failure:{track:"scaptcha-card-slider-track-failure",control:"scaptcha-card-slider-control-failure",icon:(0,n.jsx)(()=>(0,n.jsxs)("div",{className:"scaptcha-icon-container",children:[(0,n.jsx)("svg",{className:"scaptcha-icon-light",xmlns:"http://www.w3.org/2000/svg",width:"13",height:"10.312",viewBox:"0 0 3.44 2.728",children:(0,n.jsx)("path",{d:"M2.12 1.377l.961.962-.379.38-.964-.963-.962.963-.38-.38.963-.962L.396.413l.38-.38.962.963.964-.962.38.38z",fill:"#202020"})}),(0,n.jsx)("svg",{className:"scaptcha-icon-dark",xmlns:"http://www.w3.org/2000/svg",width:"13",height:"10.312",viewBox:"0 0 3.44 2.728",children:(0,n.jsx)("path",{d:"M2.12 1.377l.961.962-.379.38-.964-.963-.962.963-.38-.38.963-.962L.396.413l.38-.38.962.963.964-.962.38.38z",fill:"#c6c6c6"})})]}),{})}};var CaptchaChallenge=e=>{let{text:t,captcha:a,onComplete:s}=e,[o,c]=(0,r.useState)(v.default),[d,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),[h,x]=(0,r.useState)({x:0,y:0}),[g,y]=(0,r.useState)({x:[0],y:[0]}),scaleSliderPosition=e=>5+.86*e,handleStart=e=>{m||(x({x:("touches"in e?e.touches[0].clientX:e.clientX)-h.x,y:("touches"in e?e.touches[0].clientY:e.clientY)-h.y}),u(!0),c(v.active))},handleMove=e=>{if(!d||m)return;let t={x:("touches"in e?e.touches[0].clientX:e.clientX)-h.x,y:("touches"in e?e.touches[0].clientY:e.clientY)-h.y};t.x>225||t.x<0||y({x:g.x.concat([t.x]),y:g.y.concat([t.y])})},handleEnd=()=>{d&&!m&&(p(!0),s(scaleSliderPosition(g.x[g.x.length-1]),g).then(e=>{c(e?v.success:v.failure)}))};return(0,n.jsxs)("div",{className:"scaptcha-card-element relative",draggable:"false",onMouseMove:e=>handleMove(e),onTouchMove:e=>handleMove(e),onTouchEnd:handleEnd,onMouseUp:handleEnd,onMouseLeave:handleEnd,children:[(0,n.jsx)("div",{className:"scaptcha-card-background scaptcha-card-element",style:{backgroundImage:"url('".concat(imageDataUrl(a.background),"')")}}),(0,n.jsx)("div",{className:"scaptcha-card-slider-puzzle scaptcha-card-element",style:{backgroundImage:"url('".concat(imageDataUrl(a.slider),"')"),left:"".concat(scaleSliderPosition(g.x[g.x.length-1]),"px")},onMouseDown:e=>handleStart(e),onTouchStart:e=>handleStart(e)}),(0,n.jsxs)("div",{className:"scaptcha-card-slider-container scaptcha-card-element",children:[(0,n.jsx)("div",{className:"scaptcha-card-slider-track scaptcha-card-element"}),(0,n.jsx)("div",{className:"scaptcha-card-slider-label scaptcha-card-element",style:{opacity:d?0:1},children:(0,n.jsx)("span",{children:t})}),(0,n.jsx)("div",{className:"scaptcha-card-slider-mask ".concat(o.track," scaptcha-card-element"),style:{width:"".concat(g.x[g.x.length-1]+30,"px")}}),(0,n.jsx)("div",{className:"scaptcha-card-slider-container scaptcha-card-element",draggable:"false"}),(0,n.jsx)("div",{className:"scaptcha-card-slider-control ".concat(o.control," scaptcha-card-element"),style:{left:"".concat(g.x[g.x.length-1],"px")},onMouseDown:e=>handleStart(e),onTouchStart:e=>handleStart(e),onMouseEnter:()=>{d||m||c(v.active)},onMouseLeave:()=>{d||c(v.default)},children:o.icon})]})]})},b=a(1615),w=a(8938),N=a(6132),C=a(4887),j=a(5765),S=a(4028),k=a(6837),P=a(3359);function MaintenanceDialog(){return(0,n.jsx)(P.V,{onClose:()=>{},disableBackdropClickToClose:!0,disableEscapeToClose:!0,showImmediately:!0,backdropClassName:"backdrop-blur-[3px]",className:"bg-white text-black rounded-md p-4 py-3 !h-auto !w-auto",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4 text-center !w-[300px] text-center",children:[(0,n.jsx)("div",{className:"flex justify-between items-center",children:(0,n.jsx)("div",{className:"text-lg font-bold",children:"Checkout Under Maintenance"})}),(0,n.jsxs)("span",{className:"text-md",children:["Our checkout page is under scheduled maintenance and will be back soon.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Click below to get notified when it's back online."]}),(0,n.jsx)("button",{className:"btn btn-primary",onClick:()=>{},children:"Notify Me"})]})})}a(1741);var I=a(8617),A=a(2881),E=a(9796),T=a(6691),M=a.n(T),D=a(2137),L=a(8665);function ChooseTokenV2(e){let{className:t}=e,{plan:a,isAuthenticated:r,setShowValidationErrors:s,shownValidationErrors:o,submitCryptoPaymentMutation:m,showValidationErrors:h,selectedToken:x,setSelectedToken:y,agreed:f,setAgreed:v}=(0,d.r9)(),{displayToastMessage:w,clearToastMessages:C}=(0,b.T)(),S=(0,N.DY)();if(!a)return null;let k=null==a?void 0:a.product,{initialPriceCents:P,recurrence:I}=k;return(0,n.jsxs)("div",{className:(0,g.m)("flex flex-col gap-3",t),children:[(0,n.jsx)("p",{className:c()(r&&"ml-4","font-league flex justify-between items-end"),children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"text-[28px] font-bold text-primary-content",children:(0,u.a)(P)}),(0,n.jsxs)("span",{className:"text-[25px] billing-frequency text-[#B7B7B7]",children:[" ","/ ",(0,E.J4)(I)]})]})}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("input",{id:"agreed",name:"agreed",type:"checkbox",className:c()("checkbox checkbox-accent mr-[13px]",h&&o.agreed?"border-error":"border-[#B7B7B7]"),checked:f,onChange:e=>v(e.target.checked)}),(0,n.jsxs)("label",{htmlFor:"agreed",onClick:e=>{e.stopPropagation()},children:["I accept the"," ",(0,n.jsx)(p(),{href:S.terms,target:"_blank",children:(0,n.jsx)("span",{className:"underline",children:"Terms and Conditions"})})," ",(0,n.jsxs)("span",{children:["and"," ",(0,n.jsx)(p(),{href:S.privacy,target:"_blank",children:(0,n.jsx)("span",{className:"underline",children:"Privacy Policy"})})]})]})]}),(0,n.jsx)("div",{className:"flex flex-col gap-3 mt-4",children:L.eT.map(e=>{let t=D.T[e.id.toLowerCase()];return(0,n.jsxs)("button",{onClick:async()=>{let t=o.email||o.firstName||o.lastName;t||!f?(s(!0),(0,d.rD)(),w({message:t?"Please fill out all information.":"You must agree to the terms.",type:"error"})):(C(),s(!1),y(e.id),await m.mutateAsync(e.id),await new Promise(e=>setTimeout(e,1e3)))},disabled:m.isLoading,className:(0,g.m)("flex items-center btn btn-lg btn-prmary !bg-primary-gradient hover:brightness-110 transition-all !text-black px-3 lg:px-6",m.isLoading&&x!==e.id&&"invisible",m.isLoading&&"opacity-70"),children:[m.isLoading?(0,n.jsx)(j.$,{className:"w-9 h-9 animate-spin"}):t?(0,n.jsx)(M(),{src:t,alt:e.name+" icon",className:"w-9 h-9"}):null,(0,n.jsxs)("div",{className:"text-5 flex-1 flex justify-center items-center",children:[(0,n.jsxs)("span",{className:"font-extrabold",children:["Pay with ",e.name]})," ",(0,n.jsx)("span",{className:"font-bold ml-1",children:!!e.networkLabel&&"(".concat(e.networkLabel,")")})]})]},e.id)})})]})}var _=a(9893),B=a(4338),F=a(4797);let displayRecurrence=e=>{switch(e){case"monthly":return"monthly";case"quarterly":return"3 months";case"biannually":return"6 months";case"yearly":return"1 year";case"biyearly":return"2 years"}},getMonths=e=>{switch(e){case"monthly":break;case"quarterly":return 3;case"biannually":return 6;case"yearly":return 12;case"biyearly":return 24}return 1};function PlanCard(e){var t,a;let{className:r,plan:s,active:o,hideChevron:d,...m}=e,{id:p,initialPriceCents:h,recurrence:x,shortId:y}=s.product,f=B.U[s.id],v=f.bullets,b=(0,u.a)(h,"USD"),w=displayRecurrence(x),N=4999*getMonths(x),C=null!==(t=f.percentOff)&&void 0!==t?t:100-Math.round(100*(h/N)),j=C>0?N-h:0,S=Math.round(j/100),k=c()("inline-flex mx-auto rounded-full items-center h-[32px] bg-[#343740] py-2 px-4 text-[12px] font-extrabold tracking-[0.1em]",o?"text-[#1B1E26] bg-primary-gradient-for-chip":"text-primary bg-[#213043]"),P=C>0&&(0,n.jsx)("span",{className:"hidden 2xl:flex items-center justify-center mb-[24px]",children:(0,n.jsxs)("div",{className:k,children:["SAVE $",S]})}),I=C>0&&(0,n.jsx)("span",{className:"2xl:hidden flex items-center justify-center",children:(0,n.jsxs)("div",{className:k,children:["SAVE $",S]})}),A=null!==(a=f.description)&&void 0!==a?a:s.description;return(0,n.jsxs)("div",{className:(0,g.m)("relative rounded-regular py-4 px-5 text-white transition-all flex flex-col justify-between group cursor-pointer border-2 border-transparent hover:border-primary hover:border-opacity-30",o&&"!border-primary !border-opacity-100 translate-y-[-1px]",r),...m,children:[(0,n.jsxs)("div",{children:[P,(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"text-[27px] font-extrabold",children:b}),(0,n.jsxs)("div",{className:"text-[16px] text-[#FFFFFF80] ml-1",children:["/ ",w]})]}),I]}),(0,n.jsx)("div",{className:c()("text-[24px] mt-0"),children:s.name}),(0,n.jsxs)("div",{className:"pt-[9px] 2xl:pb-[22px] font-medium text-sm text-[#FFFFFFB2]",children:[!!A&&(0,n.jsx)("div",{className:"h-8 flex items-center",children:A}),(0,n.jsx)("div",{className:"flex flex-col gap-[6px]",children:v.map(e=>(0,n.jsxs)("div",{className:"flex items-start md:items-center",children:[(0,n.jsx)(M(),{src:_.Z,alt:"check icon",className:"mr-1.5 w-[16px] md:w-[20px] translate-y-[5px] md:translate-y-0"})," ",e]},e))})]})]}),!d&&(0,n.jsx)("button",{className:c()("absolute bottom-5 right-5 2xl:hidden transition-all group-hover:translate-y-[-1px] group-hover:text-primary",o&&"translate-y-[-1px] text-primary"),children:(0,n.jsx)(F.Z,{className:c()("w-9 h-9 transition-all",o?"rotate-90":"rotate-0")})}),(0,n.jsx)("button",{className:c()("hidden 2xl:block h-[54px] rounded-regular bg-[#393C45]  font-bold font-league w-full hover:shadow-xl hover:translate-y-[-1px] transition-all duration-200 transform hover:bg-primary-gradient hover:text-[#06060C] transition-all",o?"bg-primary-gradient text-[#06060C] shadow-glowy translate-y-[-1px]":"text-white bg-[#213043] shadow-none"),children:(0,n.jsx)("div",{className:"text-xl mt-1",children:o?"SELECTED":"CHOOSE PLAN"})})]})}function Plans(e){let{className:t,...a}=e,{cryptoProducts:r,checkout:s,plan:o,setPlanId:u}=(0,d.r9)(),select=e=>{u(e.id),setTimeout(()=>{let e=[...document.querySelectorAll(".section-title")].reverse()[0];e&&e.scrollIntoView({block:"center",behavior:"smooth"})},300)};return(0,n.jsx)("div",{className:(0,g.m)("2xl:h-auto 2xl:pb-0 2xl:overflow-y-visible w-full 2xl:w-auto 2xl:inline-flex 2xl:flex-row 2xl:rounded-lg 2xl:border-none 2xl:mt-[-8px] gap-3",t),id:"payment-type-scroll-target",onScroll:e=>e.stopPropagation(),...a,children:s.plans.map((e,t)=>{let a=B.U[e.id],r=e.id===(null==o?void 0:o.id);return(0,n.jsxs)(n.Fragment,{children:[!a.highlight&&t>0&&(0,n.jsx)("div",{},e.id+"separator"),(0,n.jsx)(PlanCard,{hideChevron:1===s.plans.length,className:c()(!a.highlight&&"2xl:h-[393.5px] h-auto bg-[#1B1E26] mb-[14px]",a.highlight&&"rounded-double 2xl:ml-2 bg-[#272A33] text-white 2xl:pt-[32px] pt-[16px] pb-[16px]",a.highlight&&"2xl:translate-y-[-16px]"),plan:e,active:r,onClick:()=>{select(e)}},e.product.id)]})})})}var R=a(4015),U=a(7431),O=a(2331),G=a(38),V=a.n(G);let useWireInfoQueryOptions=()=>{let e=(0,d.r9)();return(0,b.T)(),{enabled:!1,queryKey:["wireInfo",e.email],queryFn:async()=>{if(!e.email||!V()(e.email)||!e.firstName||!e.lastName||!e.agreed)return e.submitPayment.mutate(void 0),null;let t=new URLSearchParams;return t.set("first_name",e.firstName),t.set("last_name",e.lastName),t.set("email",e.email),await (0,R.hJ)("/api/payment/create_wire_info?".concat(t),{method:"GET"})}}};function BankInfo(e){let t=(0,b.T)(),a=[{name:"Account Number",value:e.bankInfo.account_number},{name:"Routing Number",value:e.bankInfo.routing_number},{name:"Swift Code",value:e.bankInfo.swift_code},{name:"Beneficiary Address",value:"Wudan LLC\n13023 Northeast Hwy 99\nVancouver, Washington, 98686, USA"},{name:"Bank Address",value:"Chase Bank, NA\n255, 2nd Ave South\nMinneapolis, Minnesota, 55479, USA"}],r=(0,d.r9)(),s=(0,u.a)(r.pricing.initialTotal,r.pricing.currency);return(0,n.jsxs)("div",{className:"flex flex-col gap-3 bg-black p-6 w-full border-white border-opacity-30 border rounded-md overflow-hidden border-solid",children:[(0,n.jsx)("div",{className:"text-xl font-bold",children:r.plan.name}),(0,n.jsxs)("div",{className:"alert alert-info bg-transparent text-white",children:["To join ",r.plan.name,", send a Wire Transfer of ",s," USD to the following banking details:"]}),a.map(e=>(0,n.jsxs)("div",{className:"flex-col md:flex-row flex w-full text-left md:gap-7",children:[(0,n.jsx)("div",{className:"opacity-80 md:w-[160px]",children:e.name}),(0,n.jsxs)("div",{className:"flex gap-3 cursor-pointer hover:underline whitespace-pre-line w-full md:w-auto justify-between md:flex-1",onClick:()=>{navigator.clipboard.writeText(e.value),t.displayToastMessage({type:"success",message:"".concat(e.name," copied to clipboard")})},children:[e.value,(0,n.jsx)(U.Z,{size:20})]})]},e.name))]})}function PayWireDialog(e){return(0,n.jsxs)(P.V,{onClose:e.onClose,title:"Pay with Wire Transfer",containerClassName:"items-end md:items-center",className:"!h-auto",children:[(0,n.jsx)("button",{className:"btn btn-ghost btn-circle absolute top-4 right-3",onClick:()=>e.onClose(),children:(0,n.jsx)(O.Z,{})}),(0,n.jsx)(BankInfo,{bankInfo:e.bankInfo})]})}var z=a(4874),K=a(165);let J=(0,r.lazy)(async()=>{let e=await Promise.all([a.e(688),a.e(494)]).then(a.bind(a,494));return{default:e.StripeCreditCardForm}}),H="join-trw-form",PersonalInformationForm=e=>{let{hideEmail:t,chromeless:a}=e,{checkout:s,email:o,firstName:u,lastName:m,setEmail:p,setFirstName:x,setLastName:g,shownValidationErrors:y,showValidationErrors:f,isAuthenticated:v,plan:b}=(0,d.r9)(),[w]=(0,r.useState)(!!o),[N]=(0,r.useState)(!!u),[C]=(0,r.useState)(!!m);t||(t=w&&(v||(null==b?void 0:b.name.toLowerCase().includes("council")))),a=a||v;let j=c()("label-text-alt text-error",{hidden:!f}),getInputClasses=(e,t)=>c()("input w-full",{"border-primary-content border-opacity-40":!f&&(""===t||y[e]),"border-primary-content":!y[e],"border-error":f&&y[e]});return(0,n.jsxs)("div",{className:c()("flex flex-col"),children:[(0,n.jsx)(k.j,{}),!a&&!v&&(0,n.jsxs)("div",{className:"lg:mx-0 lg:text-lg flex mx-auto text-[#B7B7B7]",children:[(0,n.jsx)(h.g,{fill:"#B7B7B7"}),(0,n.jsx)("p",{className:"ml-[9px] font-black",children:"PERSONAL INFORMATION"})]}),(0,n.jsxs)("div",{className:c()("form-control w-full",!a&&"lg:pl-9"),children:[t?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Email address"}),(0,n.jsx)("span",{className:j,children:y.email})]}),(0,n.jsx)("input",{type:"text",placeholder:"example@gmail.com",className:getInputClasses("email",o),autoFocus:!0,autoComplete:"email",value:o,onChange:e=>p(e.target.value.trim())})]}),N&&v?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"First Name"}),(0,n.jsx)("span",{className:j,children:y.firstName})]}),(0,n.jsx)("input",{type:"text",placeholder:"First Name",className:getInputClasses("firstName",u),autoComplete:"given-name",value:u,onChange:e=>x(e.target.value.trim())})]}),C&&v?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"label",children:[(0,n.jsx)("span",{className:"label-text",children:"Last Name"}),(0,n.jsx)("span",{className:j,children:y.lastName})]}),(0,n.jsx)("input",{type:"text",placeholder:"Last Name",className:getInputClasses("lastName",m),autoComplete:"family-name",value:m,onChange:e=>g(e.target.value.trim())})]})]})]})},PayNowButton=()=>{let{captchaRes:e,solveCaptchaMutation:t,agreed:a,pendingPayment:s,submitPayment:o,shownValidationErrors:u,isRenewal:m,isAuthenticated:p,paymentType:h}=(0,d.r9)(),[x,y]=(0,r.useState)(!1),[f,v]=(0,r.useState)(!1),[w,N]=(0,r.useState)(null),S=useWireInfoQueryOptions(),k=(0,z.a)(S),P=(0,A.P)(),E=P.isLoading||k.isFetching||o.isLoading||!!s||e.isFetching||t.isLoading||x,T=c()("lg:h-[75px] lg:py-[24px] lg:px-[30px] h-[69px] rounded-[10px] py-[20px] flex text-[#06060C] bg-primary-gradient","bank_account"===h?"px-3":"px-[22px]",{"text-[#06060C] cursor-pointer":!E,"text-[#06060CCC] cursor-not-allowed opacity-70":E,"shadow-glowy":a}),M=(0,r.useRef)(null),{displayToastMessage:D,clearToastMessages:L}=(0,b.T)(),_=(0,r.useRef)(null),[B,F]=(0,r.useState)({x:0,y:0,width:0,height:0}),R=I.c[h],U=(0,K.NL)();return(0,n.jsxs)("button",{ref:_,onClick:async a=>{if("bank_account"===h)return P.mutate({});if("bank_wire"===h)return U.ensureQueryData(S).then(e=>{e&&(v(!0),N(e.bankInfo))}).catch(e=>{D({type:"error",message:e.message})});let n=Object.values(u).some(Boolean),r=_.current,s=0,c=0;for(;r&&r.getAttribute("id")!==H;)s+=r.offsetLeft,c+=r.offsetTop,r=r.offsetParent;F({x:s,y:c,width:_.current.offsetWidth,height:0});let d=!p&&"card"===h;if(n||!d)return o.mutateAsync(void 0);{t.reset();let a=await e.refetch();if(a.error)return y(!1)}L(),y(!0),setTimeout(()=>{var e;null===(e=M.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})},50)},className:(0,g.m)("flex items-center relative",T),disabled:E,children:[x&&(0,C.createPortal)((0,n.jsxs)(n.Fragment,{children:[x&&(0,n.jsx)("div",{className:c()("fixed inset-0 bg-black bg-opacity-40 z-10 transition-all",x?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>y(!1)}),(0,n.jsxs)("div",{style:{left:B.x,right:0,top:B.y,transform:"translateY(-100%)",width:B.width},ref:M,className:c()("absolute flex flex-col items-center justify-center transition-all z-[100]",x?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"),children:[(0,n.jsx)("div",{className:"bg-[#f1f1f1] p-3 rounded-lg",children:!!e.data&&(0,n.jsx)(CaptchaChallenge,{text:"Slide to finish the puzzle",captcha:e.data.challenge,onComplete:async(a,n)=>{try{let r=await t.mutateAsync({position:a,trail:n});if("failure"===r.result)return e.refetch(),!1;return setTimeout(()=>{o.mutateAsync(void 0),y(!1)},500),!0}catch(e){return D({message:"Captcha error, refresh and try again. "+e.message,type:"error"}),y(!1),!1}}},e.data.id)}),(0,n.jsx)("div",{className:"translate-y-[-1px] w-0 h-0 border-l-[12px] border-r-[12px] border-t-[12px] border-transparent border-t-[#f1f1f1]"})]})]}),document.getElementById("main")),!E&&(0,n.jsx)(R.Icon,{className:"h-8 w-8 lg:h-12 lg:w-12"}),(0,n.jsx)("span",{className:(0,g.m)("lg:mt-[1px] lg:text-[28px] mx-auto text-[24px] font-bold font-league leading-none mt-[3px] flex-1",E&&"!text-2xl"),children:E?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-center text-center",children:[(0,n.jsx)(j.$,{className:"animate-spin h-[24px] w-[24px] mr-[4px] mt-[-4px]"}),"bank_account"===h?"Connecting bank...":"Processing..."]}),"Do not close this window"]}):"bank_account"===h?"CONNECT BANK AND ENTER":"bank_wire"===h?"SHOW WIRE INFORMATION":m?"RENEW NOW":"ENTER NOW"}),f&&(0,C.createPortal)((0,n.jsx)(PayWireDialog,{onClose:()=>v(!1),bankInfo:w}),document.body)]})},CompletePaymentAreaForm=()=>{let{agreed:e,setAgreed:t,pricing:a,submitPayment:r,pendingPayment:s,setCryptoDialogOpen:o,showValidationErrors:m,shownValidationErrors:h,paymentType:x,isAuthenticated:g,checkout:y}=(0,d.r9)();r.isLoading;let f=a.currency,v=(0,u.a)(a.recurring,a.currency),b=(0,N.DY)(),w=c()("label-text-alt text-error",{hidden:!m}),C=displayRecurrence(y.product.recurrence);return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:c()("flex flex-col",g&&"my-6",!g&&"pb-8 lg:pl-9"),children:[(0,n.jsxs)("p",{className:c()(g&&"ml-4","font-league flex justify-between items-end"),children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"text-[28px] font-bold text-primary-content",children:v}),(0,n.jsxs)("span",{className:"text-[25px] billing-frequency text-[#B7B7B7] capitalize",children:[" ","/ ",C]})]}),(0,n.jsxs)("div",{className:"text-[20px] relative",style:{transform:"translateY(-6px)"},children:[y.localizedPrice&&"USD"!==y.localizedPrice.currency?"~".concat(y.localizedPrice.amount>1e3?Math.round(y.localizedPrice.amount):y.localizedPrice.amount.toFixed(2)," ").concat(y.localizedPrice.currency):""," ",(0,n.jsx)("div",{className:"absolute bottom-[-14px] right-0 text-sm whitespace-nowrap",children:y.product.id.includes("india")&&"$49.99 + 18% GST"})]})]}),!g&&(0,n.jsxs)("div",{className:"flex flex-col pl-[8px]",children:[(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:w,children:h.agreed})}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("input",{id:"agreed",name:"agreed",type:"checkbox",className:c()("checkbox checkbox-accent mr-[13px]",m&&h.agreed?"border-error":"border-[#B7B7B7]"),checked:e,onChange:e=>t(e.target.checked)}),(0,n.jsxs)("label",{htmlFor:"agreed",onClick:e=>{e.stopPropagation()},children:["I accept the"," ",(0,n.jsx)(p(),{href:b.terms,target:"_blank",children:(0,n.jsx)("span",{className:"underline",children:"Terms and Conditions"})})," ",(0,n.jsxs)("span",{children:["and"," ",(0,n.jsx)(p(),{href:b.privacy,target:"_blank",children:(0,n.jsx)("span",{className:"underline",children:"Privacy Policy"})}),"crypto"===x||"bank_wire"===x?".":", and agree to pay ".concat(v," ").concat(f," monthly until I cancel.")]})]})]})]})]}),(0,n.jsx)("div",{className:"lg:pl-[11px] form-control w-full pb-6",children:(0,n.jsx)(PayNowButton,{})})]})},SectionTitle=e=>{let{className:t,children:a,...r}=e;return(0,n.jsxs)("div",{className:(0,g.m)("section-title","lg:mx-0 lg:text-lg flex mx-auto text-[#B7B7B7] justify-center lg:justify-start",t),...r,children:[(0,n.jsx)(h.g,{fill:"#B7B7B7"}),(0,n.jsx)("p",{className:"ml-[9px] font-black",children:a})]})},Z=(0,r.forwardRef)(function(e,t){let{searchParams:a,className:o,checkoutStr:u,userToken:m,paymentMethods:p,showPlans:h,authedInfo:y}=e,f=(0,S.pd)(u),v=(0,r.useRef)(null);(0,r.useEffect)(()=>{initSentry()},[]);let b=(0,d.Ac)({searchParams:a,checkout:f,ref:v,userToken:m,paymentMethods:p,showPlans:h,authedInfo:y}),{showIntercom:N,paymentType:C,show3d:j,threedsiData:k,pendingPayment:P,secureWindowConfig:A,merchant:E,plan:T,isAuthenticated:M,brand:D}=b,L=(0,n.jsx)("div",{className:c()("fixed inset-0 flex items-center justify-center transition-all z-[99999] bg-[rgba(0,0,0,0.3)]",j||P?"opacity-100":"hidden opacity-0 pointer-events-none"),children:(0,n.jsx)("div",{className:"three-window bg-white rounded-lg shadow-2xl overflow-hidden p-[8px] z-1000 flex border border-gray-200",children:!!P&&(0,n.jsx)("iframe",{title:"Payment Window",src:P.redirect,style:{background:"transparent",border:"none",outline:"none",width:A.width+"px",height:A.height+"px"}})})}),_=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(CompletePaymentAreaForm,{}),L,Object.entries(k).map(e=>{let[t,a]=e;return(0,n.jsx)("input",{type:"hidden","data-threeds":t,value:String(a)},t)}),(0,n.jsx)(D.Description,{className:"lg:hidden"}),(0,n.jsxs)("div",{className:"p-4 text-right text-xs",children:["Copyright ","\xa9"," ",new Date().getFullYear()," ",D.name]})]});return(0,n.jsxs)(d.oP.Provider,{value:b,children:[(0,n.jsxs)("form",{ref:t,className:(0,g.m)("w-full flex flex-col gap-7 mt-8 mb-8",o),id:H,onSubmit:e=>e.preventDefault(),children:[!b.hidePersonalInformation&&(0,n.jsx)(PersonalInformationForm,{hideEmail:!!m}),"stripe"===E.gatewayProvider?(0,n.jsxs)("div",{className:M?"flex flex-1 flex-col h-full":"",children:[(0,n.jsx)(J,{}),(0,n.jsx)("div",{className:"h-4"}),(0,n.jsx)(CompletePaymentAreaForm,{})]}):(0,n.jsxs)(n.Fragment,{children:[f.plans.length>0&&h&&(0,n.jsxs)("div",{children:[(0,n.jsx)(SectionTitle,{children:"SELECT PLAN"}),(0,n.jsx)("div",{className:"w-full flex justify-center lg:pl-9 2xl:pl-0",children:(0,n.jsx)(Plans,{className:"mt-4 2xl:mt-6 mx-auto max-w-[950px]"})})]}),!!T&&(0,n.jsxs)("div",{className:M?"flex flex-1 flex-col h-full":"",children:[(0,n.jsx)(SectionTitle,{children:"SELECT PAYMENT"}),(0,n.jsx)(I.I,{className:"lg:pl-9"})]}),"card"===C&&(0,n.jsxs)("div",{children:[(0,n.jsx)(SectionTitle,{children:"ENTER CREDIT CARD"}),(0,n.jsx)(s.M,{className:"lg:pl-9"}),(0,n.jsx)("div",{className:"lg:mt-9"}),_]}),"bank_account"===C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(SectionTitle,{children:"CHECKOUT"}),_]}),"bank_wire"===C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(SectionTitle,{children:"CHECKOUT"}),_]}),"crypto"===C&&(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(SectionTitle,{children:"CHECKOUT"}),(0,n.jsxs)("div",{className:"lg:pl-9",children:[(0,n.jsx)(ChooseTokenV2,{className:"mt-4"}),(0,n.jsx)(D.Description,{className:"mt-8 lg:hidden"}),(0,n.jsxs)("div",{className:"p-4 text-right text-xs",children:["Copyright ","\xa9"," ",new Date().getFullYear()," ",D.name]})]})]})]})]}),N&&(0,n.jsx)("button",{className:"fixed bottom-4 right-4 z-10 rounded-full bg-primary text-black flex items-center justify-center w-[48px] h-[48px] shadow-lg",onClick:()=>w.H.show(),children:(0,n.jsx)(x.Z,{})}),!!f.maintenance&&(0,n.jsx)(MaintenanceDialog,{})]})})},8617:function(e,t,a){"use strict";a.d(t,{I:function(){return PaymentTypes},c:function(){return A}});var n=a(7437),r=a(5010),s=a(6691),o=a.n(s),c=a(7108),d=a(1738),u={src:"/checkout/_next/static/media/pay-with-crypto.72b66985.png",height:110,width:98,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAAVFBMVEXJ06r5vFf9pxUkjuM6jdAAnG8EpIZkl3wZmpz/xFn8riYCmnGtpGD7wmGGp6tAl951plVBw6Vmr27/xWl41coGpnr+vkAswJf+1YY8oOzMvlkup75/3NGHAAAAFnRSTlMBMoCKRHvhCSf6XGP0VP7wu/77j/zDGYqx3gAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxJREFUeJwVwYkRgCAMAMFDgSR++AbU/vt03AVkmPl17gdIP7VmgXgvbhbQ8u7PKhDzdmYFUq2XADIm5QNDLQIkMWJ84gAAAABJRU5ErkJggg==",blurWidth:7,blurHeight:8},m=a(3986),p=a(4797);let ActionItem=e=>{let{active:t,className:a,disabled:r,StartIcon:s,startIconClassName:c,children:d,...u}=e,h=(0,m.m)("w-8 h-8 group-hover:text-primary transition-all",t&&"filter-none text-primary border-opacity-80",c),x=p.Z,g=s?"string"==typeof s?(0,n.jsx)(o(),{src:s,alt:"check icon",className:h}):(0,n.jsx)(s,{className:h}):null;return(0,n.jsxs)("button",{type:"button",...u,className:(0,m.m)("min-h-[56px] h-[56px] px-2 flex items-center justify-between border border-primary-content border-opacity-40 rounded-lg hover:border-opacity-80 transition-all translate-y-0 hover:translate-y-[-1px] cursor-pointer hover:text-white group flex-1 flex-shrink-0 w-full",t&&"translate-y-[-1px] text-white border-primary border-opacity-80",r&&"opacity-50 pointer-events-none"),children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[g,(0,n.jsx)("span",{className:(0,m.m)(t&&"transition-all"),children:d})]}),(0,n.jsx)("div",{children:!!x&&(0,n.jsx)(x,{className:(0,m.m)("w-9 h-9 text-primary-content group-hover:text-primary rotate-0 transition-all",t&&"text-primary rotate-90")})})]})};var h=a(2601);let x=new Set(["www.jointherealworld.com","jointherealworld.com","unstoppabletrw.com","gameovermatrix.com","university.com","hustlersuniversity.ag"]),g=(()=>{if(void 0!==window.ApplePaySession&&window.top===window&&(x.has(location.hostname)||h.env.NEXT_PUBLIC_FORCE_APPLE_PAY||localStorage.apple_pay))return ApplePaySession.canMakePayments()?ApplePaySession:void 0})();var y=a(2265),f=a(21),v=a(9796),b=a(1615);let w={AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:["People's Republic of China","China"],CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:["Republic of the Congo","Congo"],CD:["Democratic Republic of the Congo","Congo"],CK:"Cook Islands",CR:"Costa Rica",CI:["Cote d'Ivoire","C\xf4te d'Ivoire","Ivory Coast"],HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:["Czech Republic","Czechia"],DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:["Republic of The Gambia","The Gambia","Gambia"],GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:["Islamic Republic of Iran","Iran"],IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"North Korea",KR:["South Korea","Korea, Republic of","Republic of Korea"],KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:["Netherlands","Nederland"],NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MK:["The Republic of North Macedonia","North Macedonia"],MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:["State of Palestine","Palestine"],PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:["Pitcairn","Pitcairn Islands"],PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:["Russian Federation","Russia"],RW:"Rwanda",SH:"Saint Helena",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Eswatini",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:["Taiwan, Province of China","Taiwan"],TJ:"Tajikistan",TZ:["United Republic of Tanzania","Tanzania"],TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:["T\xfcrkiye","Turkey"],TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:["United Arab Emirates","UAE"],GB:["United Kingdom","UK","Great Britain"],US:["United States of America","United States","USA","U.S.A.","US","U.S."],UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Vietnam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe",AX:["\xc5land Islands","Aland Islands"],BQ:"Bonaire, Sint Eustatius and Saba",CW:"Cura\xe7ao",GG:"Guernsey",IM:"Isle of Man",JE:"Jersey",ME:"Montenegro",BL:"Saint Barth\xe9lemy",MF:"Saint Martin (French part)",RS:"Serbia",SX:"Sint Maarten (Dutch part)",SS:"South Sudan",XK:"Kosovo"};var N=a(4015),C=a(1774),j=a(5764),S=a(38),k=a.n(S);function ApplePayText(e){return(0,n.jsx)("svg",{id:"svg-text",viewBox:"0 0 121.82000000000001 28.571",className:e.className,children:(0,n.jsxs)("g",{children:[(0,n.jsx)("text",{x:"12.5",y:"19.5",style:{letterSpacing:"0.22px;",fill:"white",fontFamily:"-apple-system",fontSize:"15px",fontWeight:500},height:"18",width:"60.62",textLength:"60.62",children:"Join\xa0with\xa0"}),(0,n.jsxs)("svg",{x:"74.32000000000001",y:"7.92",height:"15",width:"35",className:"logo",viewBox:"0 0 105 43",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("title",{children:"Apple Logo"}),(0,n.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,n.jsxs)("g",{fill:"#FFF",children:[(0,n.jsx)("path",{d:"M19.4028,5.5674 C20.6008,4.0684 21.4138,2.0564 21.1998,0.0004 C19.4458,0.0874 17.3058,1.1574 16.0668,2.6564 C14.9538,3.9414 13.9688,6.0374 14.2258,8.0074 C16.1948,8.1784 18.1618,7.0244 19.4028,5.5674"}),(0,n.jsx)("path",{d:"M21.1772,8.3926 C18.3182,8.2226 15.8872,10.0156 14.5212,10.0156 C13.1552,10.0156 11.0642,8.4786 8.8022,8.5196 C5.8592,8.5626 3.1282,10.2276 1.6342,12.8746 C-1.4378,18.1696 0.8232,26.0246 3.8112,30.3376 C5.2622,32.4716 7.0102,34.8206 9.3142,34.7366 C11.4912,34.6506 12.3442,33.3266 14.9902,33.3266 C17.6352,33.3266 18.4042,34.7366 20.7082,34.6936 C23.0972,34.6506 24.5922,32.5586 26.0422,30.4226 C27.7072,27.9906 28.3882,25.6426 28.4312,25.5126 C28.3882,25.4706 23.8232,23.7186 23.7812,18.4676 C23.7382,14.0706 27.3652,11.9786 27.5362,11.8496 C25.4882,8.8196 22.2872,8.4786 21.1772,8.3926"}),(0,n.jsx)("path",{d:"M85.5508,43.0381 L85.5508,39.1991 C85.8628,39.2421 86.6158,39.2871 87.0158,39.2871 C89.2138,39.2871 90.4558,38.3551 91.2108,35.9581 L91.6548,34.5371 L83.2428,11.2321 L88.4368,11.2321 L94.2958,30.1421 L94.4068,30.1421 L100.2668,11.2321 L105.3278,11.2321 L96.6048,35.7141 C94.6078,41.3291 92.3208,43.1721 87.4828,43.1721 C87.1048,43.1721 85.8838,43.1271 85.5508,43.0381"}),(0,n.jsx)("path",{d:"M42.6499,19.3555 L48.3549,19.3555 C52.6829,19.3555 55.1469,17.0255 55.1469,12.9855 C55.1469,8.9455 52.6829,6.6375 48.3769,6.6375 L42.6499,6.6375 L42.6499,19.3555 Z M49.6869,2.4425 C55.9009,2.4425 60.2289,6.7265 60.2289,12.9625 C60.2289,19.2225 55.8129,23.5285 49.5309,23.5285 L42.6499,23.5285 L42.6499,34.4705 L37.6779,34.4705 L37.6779,2.4425 L49.6869,2.4425 Z"}),(0,n.jsx)("path",{d:"M76.5547,25.7705 L76.5547,23.9715 L71.0287,24.3275 C67.9207,24.5275 66.3007,25.6815 66.3007,27.7015 C66.3007,29.6545 67.9887,30.9195 70.6287,30.9195 C74.0027,30.9195 76.5547,28.7665 76.5547,25.7705 M61.4617,27.8345 C61.4617,23.7285 64.5917,21.3755 70.3627,21.0205 L76.5547,20.6425 L76.5547,18.8675 C76.5547,16.2705 74.8457,14.8495 71.8057,14.8495 C69.2967,14.8495 67.4777,16.1375 67.0997,18.1125 L62.6167,18.1125 C62.7497,13.9615 66.6567,10.9435 71.9387,10.9435 C77.6207,10.9435 81.3267,13.9175 81.3267,18.5345 L81.3267,34.4705 L76.7327,34.4705 L76.7327,30.6305 L76.6217,30.6305 C75.3127,33.1395 72.4267,34.7145 69.2967,34.7145 C64.6807,34.7145 61.4617,31.9625 61.4617,27.8345"})]})})]})]})})}var P=a(2744),I=a.n(P);let useValidateApplePaySession=()=>{let{valueioApi:e,checkout:t}=(0,r.r9)(),a=t.merchants.lookup[t.merchants.applepay];return async function(t){let n=await e.applePay.validateSession({destination_identifier:a.destination,display_name:"The Real World",apple_url:t});return n.response}};function ApplePayButton(e){let{plan:t,merchant:a,handleSuccess:s,firstName:o,lastName:c,email:d,submitPayment:u}=(0,r.r9)(),[m,p]=(0,y.useState)(),h=useValidateApplePaySession(),x=function(){let{valueioApi:e,email:t,phone:a,plan:n,firstName:s,lastName:o,checkout:c,handleSuccess:d}=(0,r.r9)(),u=c.merchants.lookup[c.merchants.applepay];return async a=>{var c,d,m,p,h;let x;if(!a.billingContact)throw Error("No billing contact given");let g="",y="";(null===(d=a.billingContact)||void 0===d?void 0:null===(c=d.addressLines)||void 0===c?void 0:c.length)&&(g=a.billingContact.addressLines[0],y=a.billingContact.addressLines[1]||"");let v=await e.creditCards.create({vaulted:!0,apple_pay_token:a.token,first_name:s,last_name:o,address1:g,address2:y,city:null===(m=a.billingContact)||void 0===m?void 0:m.locality,state:null===(p=a.billingContact)||void 0===p?void 0:p.administrativeArea,zip:(null===(h=a.billingContact)||void 0===h?void 0:h.postalCode)||"",country:function(e){for(let t in w){let a=w[t];if("string"==typeof a&&a===e||Array.isArray(a)&&a.includes(e))return t}throw Error("No key found for ".concat(e))}(a.billingContact.country||"US"),email:t||a.billingContact.email}),b=await (0,N.hJ)("/api/payment-method",{method:"POST",data:{source_id:v,provider:"apple_pay"}});try{x=await (0,N.hJ)("/api/payment",{method:"POST",body:JSON.stringify({productId:n.product.id,merchant:u.id,payment_method_id:b.id})})}catch(e){throw f.Tb(e),e}if("failure"===x.status)throw Error((0,r.nU)(x.message,u.statementDescriptor));return(0,C.d)({type:"PAYMENT_SUCCESS",payload:x}),x}}(),{displayToastMessage:g}=(0,b.T)(),S=(0,j.D)({mutationFn:x});return m&&(m.onvalidatemerchant=async function(e){console.log("appleSession.onvalidatemerchant",e);try{let t=await h(e.validationURL);console.log("session",t),m.completeMerchantValidation(t)}catch(t){let e=t.message;g({type:"error",message:"Apple Pay validation failed "+e.message})}},m.oncancel=function(e){console.log("appleSession.oncancel",e)},m.onpaymentauthorized=async function(e){console.log("appleSession.onpaymentauthorized",e);try{let t=await S.mutateAsync(e.payment);(null==t?void 0:t.status)==="success"?(m.completePayment(ApplePaySession.STATUS_SUCCESS),s(t.redirect)):m.completePayment(ApplePaySession.STATUS_FAILURE)}catch(e){g({type:"error",message:(0,r.nU)(e.message,a.statementDescriptor)}),m.completePayment(ApplePaySession.STATUS_FAILURE)}}),(0,n.jsx)("button",{className:I()("inline-flex items-center justify-center border-solid w-[260px] h-[48px] mx-auto rounded-[8px] border border-primary-content border-opacity-40 hover:border-opacity-80 transition-all cursor-pointer text-lg font-system",e.disabled&&"opacity-50 pointer-events-none"),id:"applepay",onClick:function(){if(e.disabled)return;if(!d||!k()(d))return u.mutate(void 0);let a=(t.product.initialPriceCents/100).toFixed(2),n=(t.product.recurringPriceCents/100).toFixed(2);var r={countryCode:"US",currencyCode:"USD",supportedNetworks:["visa","masterCard","amex","discover"],merchantCapabilities:["supports3DS"],total:{label:t.product.name,amount:a,type:"final"},lineItems:[{label:t.product.name,amount:a,type:"final"}],requiredBillingContactFields:["postalAddress","name","phone","email"],recurringPaymentRequest:{supportedCountries:["US"],merchantCapabilities:["supports3DS","supportsCredit","supportsDebit"],total:{label:t.name,amount:n,type:"final"},lineItems:[{label:"".concat((0,v.QX)(t.product.recurrence)," Subscription"),amount:n,type:"final"}],supportedNetworks:["visa","masterCard"],countryCode:"US",currencyCode:"USD",managementURL:"https://jointherealworld.com/manage",tokenNotificationURL:"https://value.io/v1/apple_pay/token_notify",paymentDescription:"".concat((0,v.QX)(t.product.recurrence)," Subscription"),regularBilling:{label:"Subscription",amount:n,paymentTiming:"recurring",recurringPaymentIntervalUnit:"month",recurringPaymentStartDate:new Date}}},s=new ApplePaySession(14,r);p(s),s.begin()},children:(0,n.jsx)("div",{className:"opacity-90 h-full w-full flex items-center justify-center font-system text-[18px] font-medium tracking-[0.22px] text-white",children:(0,n.jsx)(ApplePayText,{className:"h-[40px]"})})})}let A={bank_wire:{name:"Wire Transfer",iconClassName:"",Icon:c.Z},bank_account:{name:"Bank Account",iconClassName:"",Icon:c.Z},card:{name:"Credit/Debit Card",iconClassName:"",Icon:d.Z},crypto:{name:"Crypto",iconClassName:"",Icon:e=>{let{className:t}=e;return(0,n.jsx)(o(),{src:u,alt:"Crypto",className:t})}}},joinCommaAnd=e=>1===e.length?e[0]:"".concat(e.slice(0,e.length-1).join(", ")," and ").concat(e[e.length-1]),PaymentTypes=e=>{let{className:t,disableCrypto:a}=e,{plan:s,paymentType:o,setPaymentType:c,userToken:d,checkout:u}=(0,r.r9)(),p=new Set;u.plans.forEach(e=>{e.paymentTypes.forEach(e=>{p.add(e)})});let h=[...p.values()];return(0,n.jsx)("div",{className:(0,m.m)("pt-4 flex flex-col gap-3",t),children:h.map(e=>{if("crypto"===e&&a||"apple_pay"===e&&!(null==g?void 0:g.canMakePayments()))return null;let t=A[e],r=e===o,u=!(null==s?void 0:s.paymentTypes.includes(e)),m=(0,n.jsx)(n.Fragment,{});return(m="apple_pay"===e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ApplePayButton,{disabled:u},e),(0,n.jsxs)("div",{className:"flex items-center max-w-full w-[460px] gap-2 mx-auto px-2",children:[(0,n.jsx)("div",{className:"h-[1px] flex-1 bg-primary-content opacity-40"}),"OR",(0,n.jsx)("div",{className:"h-[1px] flex-1 bg-primary-content opacity-40"})]})]}):(0,n.jsxs)(ActionItem,{active:r,disabled:u,onClick:()=>{u||(c(t=>t===e?void 0:e),setTimeout(()=>{let e=[...document.querySelectorAll(".section-title")].reverse()[0];e&&e.scrollIntoView({block:"center",behavior:"smooth"})},300))},StartIcon:t.Icon,startIconClassName:t.iconClassName,children:[d?"Use":"Join with"," ",t.name]},e),u)?(0,n.jsx)("div",{className:"tooltip tooltip-secondary w-full","data-tip":"The ".concat(null==s?void 0:s.name," plan only supports ").concat(joinCommaAnd((null==s?void 0:s.paymentTypes)||[])," payments."),children:m},e):m})})}},3359:function(e,t,a){"use strict";a.d(t,{V:function(){return c}});var n=a(7437),r=a(3986),s=a(2265),o=a(2453);let c=(0,s.forwardRef)(function(e,t){let{onClose:a,className:c,containerClassName:d,children:u,disableEscapeToClose:m,disableBackdropClickToClose:p,backdropClassName:h,hide:x,showImmediately:g,...y}=e,[f,v]=(0,s.useState)(!!g);(0,s.useImperativeHandle)(t,()=>({hide:()=>v(!1)}),[]),(0,s.useLayoutEffect)(()=>{window.requestAnimationFrame(()=>{v(!0)})},[]),(0,s.useEffect)(()=>{let onKeyDown=e=>{"Escape"!==e.key||m||v(!1)};return document.addEventListener("keydown",onKeyDown),()=>{document.removeEventListener("keydown",onKeyDown)}},[m]);let b=(0,o.Z)(a);return(0,s.useEffect)(()=>{if(!f){let e=setTimeout(()=>{b.current()},200);return()=>{clearTimeout(e)}}},[f,b]),(0,n.jsxs)("div",{className:(0,r.m)("fixed h-[100vh] inset-0 flex items-center justify-center z-[100]",!f&&"pointer-events-none",d),children:[(0,n.jsx)("div",{onClick:()=>!p&&v(!1),className:(0,r.m)("absolute inset-0 duration-200 transition-all bg-[rgba(0,0,0,0.3)] origin-center transform filter backdrop-blur-[1px]",f?"opacity-100":"opacity-0",h)}),(0,n.jsx)("div",{className:(0,r.m)("lg:w-auto lg:h-auto w-full h-full bg-alternate transition-all transform origin-center duration-200 will-change-transform",f&&!x?"opacity-100 md:scale-100 md:translate-y-0":"opacity-0 md:scale-50 md:translate-y-[33%] ltmd:translate-y-full",c),onClick:e=>e.stopPropagation(),...y,children:"function"==typeof u?u(()=>v(!1)):u})]})})},4338:function(e,t,a){"use strict";a.d(t,{U:function(){return n}});let n={cadet:{highlight:!1,bullets:[]},contender:{highlight:!1,bullets:["Daily coin bonus"]},champion:{highlight:!0,bullets:["Maximum daily coin bonus","Exclusive features","Special emergency broadcasts"]},council:{percentOff:0,highlight:!0,description:"",bullets:["Add friends within THE COUNCIL","Communicate with the best of THE REAL WORLD.","Experience the inner workings of a world-class team.","Join your Professors in changing lives for the better."]}};n.cadet,n.contender,n.champion},5010:function(e,t,a){"use strict";a.d(t,{oP:function(){return X},nU:function(){return parseError},rD:function(){return scrollToFirstError},r9:function(){return useMainFormContext},Ac:function(){return useMainFormState}});var n=a(7437),r=a(5764),s=a(3359),o=a(2265),c=a(4028),d=a(1615),u=a(2331),m=a(2744),p=a.n(m),h=a(9879);function PhoneConfirmDialog(e){let{phone:t,paymentMethodId:a,onClose:m,onVerified:x}=e,{displayBriefToastMessage:g}=(0,d.T)(),[y,f]=(0,o.useState)(""),v=(0,r.D)(async()=>{if(6!==y.length)throw Error("Invalid code");let e=await (0,c.TT)(a,y);"pending"===e.status?(g({message:"Code has been re-sent, try again.",type:"info"}),f("")):x()},{onError:e=>{g({message:e.message||"Error confirming phone number.",type:"error"})}});return(0,n.jsx)(s.V,{disableEscapeToClose:!0,onClose:m,className:"bg-white text-black rounded-md p-4 py-3 !h-auto !w-auto",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4 text-center !w-[300px]",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"text-lg font-bold",children:"Verify Phone"}),(0,n.jsx)("div",{onClick:m,children:(0,n.jsx)(u.Z,{className:"w-6 h-6 cursor-pointer"})})]}),(0,n.jsxs)("span",{className:"text-md",children:["Enter the 6-digit code sent to ",(0,h.ne)(t)," below:"]}),(0,n.jsx)("input",{autoFocus:!0,placeholder:"Enter 6-Digit Code",className:"border-gray-500 border border-solid text-black p-2 rounded-md bg-white outline-none",type:"number",name:"number",value:y,onChange:e=>f(e.target.value)}),(0,n.jsx)("button",{className:p()("btn btn-primary !text-black w-full !bg-primary",v.isLoading&&"opacity-60 cursor-not-allowed"),onClick:()=>!v.isLoading&&v.mutate(),children:"Submit Code"})]})})}var x=a(1774),g=a(1490),y=a(6837),f=a(1e3),v=a(8938),b=a(21),w=a(6325),N=a(7475),C=a(4874),j=a(9044),S=a.n(j),k=a(263).Buffer;let getValueioCardBrand=e=>/visa/i.test(e)?"visa":/mastercard/i.test(e)?"master":/american express/i.test(e)?"american_express":"discover";async function valueioRequest(e,t){let{data:a,username:n,key:r,...s}=t,o={headers:{Authorization:"Basic ".concat(k.from([n,r].join(":")).toString("base64")),"content-type":"application/json",accept:"application/json"},...s,..."GET"!==s.method&&{body:JSON.stringify(a)}},c=await fetch("https://api.value.io/v1".concat(e),o);if(!c.ok){let e;let t=await c.text();try{e=JSON.parse(t)}catch(e){throw Error("".concat(c.statusText," ").concat(t))}throw Object.assign(S()(c.status),{data:e})}return c.json()}let ClientValueioApi=class ClientValueioApi{constructor(e,t){this.username=e,this.key=t,this.applePay={validateSession:async e=>{let t=await valueioRequest("/apple_pay/validate_session",{username:this.username,key:this.key,method:"POST",data:{...e,domain_name:location.hostname}});return t.data}},this.creditCards={create:async e=>{let t=await valueioRequest("/credit_cards",{username:this.username,key:this.key,method:"POST",data:{credit_card:e}}),a=Object.values(t.errors)[0];if(a)throw Error(a);return t.data.credit_card.credit_card_token_single_use}}}};var P=a(8235),I=a(4015);let usePricingState=e=>{let{initialPriceCents:t,recurringPriceCents:a}=e,[n]=(0,o.useState)({initialSubtotal:t,initialDiscount:0,initialTotal:t-0,recurring:a,discountPercent:Math.round(100*(0/t)),currency:"USD",currencySymbol:"$"});return{pricing:n}},A=(0,I.IH)(async e=>{let t=document.createElement("script");return t.async=!0,t.src="https://secure.nmi.com/js/v1/Gateway.js",document.body.appendChild(t),new Promise(e=>{t.onload=()=>{e(window.Gateway)}})}),E=null,useGateway=e=>{let{enabled:t,publicApiKey:a,gatewayProviderUrl:n}=e;return(0,o.useEffect)(()=>{t&&a&&n&&A(n)},[t,n,a]),(0,o.useMemo)(()=>({createUi:async e=>{try{let t;await A(n);let r=window.Gateway;if(!r)throw Error("Not initialized, refresh and try again.");let s=r.create(a),o=s.get3DSecure();if(!o)return null;E&&await E.unmount();let c=E=o.createUI(e);if(!c)return null;c.start(".three-window");let d=new Promise((e,t)=>{c.on("complete",t=>{console.log("3DS Complete",t),e(t)}),c.on("error",e=>{console.error("3DS Error",e),t(e)}),c.on("failure",e=>{console.error("3DS Failure",e),t(e)})});d.finally(()=>c.unmount());let u=!1;return await Promise.race([new Promise(e=>c.on("challenge",e)),new Promise((e,t)=>c.on("error",t)),new Promise((e,t)=>c.on("failure",t)),new Promise(e=>{c.on("complete",()=>{u=!0,e()})}),new Promise((e,a)=>{t=setTimeout(()=>{c.unmount(),u=!0,a(Error("Timeout error"))},15e3)})]),console.debug("3DS initialized"),t&&clearTimeout(t),{threeDPromise:d,skip3DS:u,ui:c}}catch(e){throw console.error(e),e}}}),[a])};async function pProps(e){let t=Object.keys(e),a=Object.values(e),n=await Promise.all(a);return t.reduce((e,t,a)=>(e[t]=n[a],e),{})}let T=[{case:()=>/hustlersuniversity|hu\d|theportal.ag/.test(window.location.hostname),siteId:3569325},{case:()=>/therealworld|trw|therlworld|vercel.app/.test(window.location.hostname),siteId:3569309}],getAnalytics=async()=>{var e;let{posthog:t,hotjar:n}=await pProps({posthog:Promise.all([a.e(157),a.e(535)]).then(a.bind(a,6535)).then(e=>e.posthog),hotjar:a.e(551).then(a.bind(a,5551)).then(e=>e.default)}),r=null===(e=T.find(e=>e.case()))||void 0===e?void 0:e.siteId;return r&&n.init(r,6),{capture:async(e,a)=>{await Promise.all([t.capture(e,a),r&&n.event(e)])},identify:async(e,a)=>{await Promise.all([t.identify(e,a),r&&n.identify(e,a)])}}};var M=a(7588);let addUuidDashes=e=>36===e.length?e:"".concat(e.slice(0,8),"-").concat(e.slice(8,12),"-")+"".concat(e.slice(12,16),"-").concat(e.slice(16,20),"-").concat(e.slice(20,32)),D=(0,I.IH)(async()=>{let e=document.createElement("script");return e.src="https://cdn.3dsintegrator.com/threeds.2.2.20230227.min.js",document.body.appendChild(e),new Promise(t=>{e.onload=()=>{t(window.ThreeDS)}})}),use3DSI=e=>{let{publicApiKey:t,enabled:a}=e;return(0,o.useEffect)(()=>{t&&a&&D()},[a,t]),{challenge:async()=>{if(await D(),!window.ThreeDS)return null;let e=null,parseResult=e=>({cardHolderAuth:e.status,cavv:e.authenticationValue,directoryServerId:addUuidDashes(e.amexDsTransId||e.dsTransId),acsTransactionId:addUuidDashes(e.acsTransId),dsTransactionId:addUuidDashes(e.amexDsTransId||e.dsTransId),eci:e.eci,threeDsVersion:e.protocolVersion}),parseError=e=>{if("string"==typeof e){try{return e=JSON.parse(e),Error(e.ValidationError)}catch(e){}return Error(e)}return Error((null==e?void 0:e.ValidationError)||e||"3DSecure failed, refresh and try again.")},a=null;return await new Promise((n,r)=>{var s;null===(s=document.getElementById("threedsi-frame"))||void 0===s||s.remove(),document.body.classList.remove("threedsi-hide");let o=new window.ThreeDS(M.JOIN_FORM_ID,t,null,{endpoint:"https://api.3dsintegrator.com/v2.2",verbose:!0,showChallenge:!0,iframeId:"threedsi-frame",forcedTimeout:"600",challengeIndicator:"03",autoSubmit:!1,resolve:t=>{if(console.log("resolve",t),"N"===t.status)return r(Error(t.transStatusReasonDetail||"3DSecure verification failed"));console.log("threeResult",e=parseResult(t)),n()},reject:e=>{console.warn("Reject",e)}});o.verify(t=>{if(console.log("resolve",t),"N"===t.status)return r(Error(t.transStatusReasonDetail||"3DSecure verification failed"));e=parseResult(t),n()},e=>{console.error(e),r(parseError(e))},{amount:49.99},null,null,console.log.bind(console,"rebillresolve"),console.log.bind(console,"rebillreject")),window.three=o,a=setTimeout(()=>{document.getElementById("threedsi-frame")||(document.body.classList.add("threedsi-hide"),r(Error("Timeout error, 3DS authentication failed.")))},12e3)}),a&&clearTimeout(a),e}}};function getCardBrand(e){if(/^4\d{3}/.test(e));else if(/^3(4|7)/.test(e))return"american_express";else if(/^5[1-5]\d{2}/.test(e))return"master";else if(/^6(?:011|5[0-9]{2})/.test(e))return"discover";return"visa"}let loadIsoLookup=async()=>{let e=await a.e(205).then(a.t.bind(a,1205,23));return e.default},use3DigitCountryCode=e=>{let[t,a]=(0,o.useState)("");return(0,o.useEffect)(()=>{e&&loadIsoLookup().then(t=>{var n;a((null===(n=t.whereAlpha2(e))||void 0===n?void 0:n.numeric)||"")})},[e]),t};var L=a(2453);let useEventSource=e=>{let{url:t,events:a,enabled:n,onMessage:r}=e,s=(0,L.Z)(r);(0,o.useEffect)(()=>{if(!n||!t)return;let e=new EventSource(t),r=[];return a.forEach(t=>{let listener=e=>{s.current(t,JSON.parse(e.data))};e.addEventListener(t,listener),r.push(()=>{e.removeEventListener(t,listener)})}),()=>{e.close(),r.forEach(e=>e())}},[n,t,s,...a])},usePendingPayment=e=>{let{payment:t,onPaymentEvent:a}=e,n=(0,L.Z)(a),[r,s]=(0,o.useState)(),[c,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{t&&(s(t),d(!0))},[t]);let handlePaymentEvent=e=>{console.log("handlePaymentEvent",e,{isPending:c}),c&&"pending"!==e.status&&(n.current(e),d(!1))};return(0,C.a)({enabled:c,refetchInterval:1e4,queryKey:["payment",null==r?void 0:r.paymentId],queryFn:async()=>{let e=await (0,I.hJ)("/api/payment/".concat(null==r?void 0:r.paymentId),{});return e&&"pending"!==e.status&&handlePaymentEvent(e),null}}),useEventSource({url:"".concat(I.vK,"/api/payment/listen/").concat(null==r?void 0:r.paymentId),events:["payment_status"],enabled:c,onMessage:(e,t)=>{"payment_status"===e&&t.paymentId===(null==r?void 0:r.paymentId)&&handlePaymentEvent(t)}}),{isPending:c}};var _=a(7126),B=a(1739),F=a.n(B),R=a(8475),U=a.n(R);let O={CallbackScript:()=>(0,n.jsx)(U(),{id:"cf-turnstile-callback",children:"window.onloadTurnstileCallback = function () {\n          window.turnstile.render('#cloudflare-turnstile', {\n            sitekey: '".concat("0x4AAAAAAABgquSPGnbProdF","',\n          })\n        }")}),Script:()=>(0,n.jsx)(U(),{src:"https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback",async:!0,defer:!0}),Component:()=>(0,n.jsx)("div",{id:"cloudflare-turnstile",className:"rounded-none w-[300px] h-[65px] mx-auto","data-theme":"dark"}),getTokenValue:()=>{var e;return null===(e=document.querySelector("[name=cf-turnstile-response]"))||void 0===e?void 0:e.value},reset(){var e,t;null===(t=window.turnstile)||void 0===t||null===(e=t.reset)||void 0===e||e.call(t,"#cloudflare-turnstile")}};var G=a(253),V=a(3915);let z=V.Z,K={clientID:"101703",environment:"PROD",isSinglePageApp:!0},J={init:e=>z(K,e)};var H=a(6132),Z=a(2601);let W=window.btoa,Y=window.atob,q=P.Z,scrollToFirstError=()=>setTimeout(()=>{var e,t;null===(t=document.querySelector("input.border-error"))||void 0===t||null===(e=t.scrollIntoView)||void 0===e||e.call(t,{behavior:"smooth",block:"center"})},300),Q={},createCard=async(e,t,a)=>{t.email=t.email.toLowerCase();let n=Object.keys(t).sort().map(e=>"".concat(e,"=").concat(t[e])).join("|"),create=async()=>{let a=await e.creditCards.create({...t,vaulted:!0}),n=await (0,I.hJ)("/api/payment-method",{method:"POST",data:{three_d_result:t.three_d_result,source_id:a,token:t.token,bin:t.number.slice(0,6)}});return{paymentMethod:n,id:a}};if(null==a?void 0:a.ignoreCache)return create();if(!Q[n]){let e=await create();Q[n]=e}return Q[n]},padMonth=e=>"".concat(e<10?"0":"").concat(e);function maskedCreditCardInput(e){return e?{...e,number:e.number.slice(0,4)+e.number.slice(4,-4).replace(/\d/g,"*")+e.number.slice(-4),cvv:e.cvv.replace(/\d/g,"*")}:null}function parseError(e,t){var a;if((e=e||"").toLowerCase().includes("no new signup"))return e;let n=null===(a=[{case:"Please fill out all required fields.",message:e=>e},{case:/Invalid /,message:e=>"".concat(e,". Correct it and try again.")},{case:["postal code","zip code","zip"],message:"Invalid Postal Code. Correct it and try again."},{case:["CVV Mismatch","CVV2 Mismatch","Invalid CVV"],message:"Invalid CVC Code. Correct it and try again."},{case:"not valid acctNumber",message:"Invalid card number. Correct it and try again."},{case:"Insufficient funds",message:"Insufficient funds. Fix it and try again."},{case:"Expired",message:"Expiration date is invalid. Correct it and try again."},{case:"AVS REJECTED",message:"Incorrect billing address. Correct it and try again."},{case:"Y, A, or U",message:"Your credit card declined the transaction. Ensure all information is correct and try again."},{case:"tries within 24",message:"You've attempted too many tries on this card."},{case:"do not honour",message:"Your credit card declined the transaction. Ensure all information is correct and try again."},{case:"do not honor",message:"Your credit card declined the transaction. Ensure all information is correct and try again."},{case:"pick up card",message:"Your credit card declined the transaction. Ensure all information is correct and try again."},{case:"duplicate transaction",message:"You recently purchased The Real World using this card. Try a different card."}].find(t=>{let a=Array.isArray(t.case)?t.case:[t.case];return a.some(t=>"string"==typeof t?e.toLowerCase().includes(t.toLowerCase()):t.test(e))}))||void 0===a?void 0:a.message;if(n){let t="function"==typeof n?n(e):n;return t}return e.slice(0,200)+'\nEnsure your card information is correct. If this error persists, try another credit card or contact your bank and tell them to allow transactions from "'.concat(t,'".')}function useMainFormState(e){var t,a,s,u,m;let{searchParams:p,checkout:j,ref:S,userToken:k,paymentMethods:P,showPlans:A,authedInfo:E}=e,T=(0,H.DY)(),M=(0,H.V5)(),D="council"===p.offer?M:T,L=!!k,B=p.subscription_id?String(p.subscription_id):void 0,R=!!B,[U,V]=(0,o.useState)(j.merchants.lookup[j.merchants.default]),[z,K]=(0,o.useState)(),{requiresAddress:Q,requiresPhone:X,gatewayProvider:$,gatewayProviderPublicKey:ee,gatewayProviderUrl:et}=U,[ea,en]=(0,o.useState)(j.country);(0,C.a)({queryKey:["hello"],queryFn:()=>fetch("".concat(I.vK,"/api/checkout/hello?")+"merchant=".concat(j.merchants.default,"&session=").concat(j.sessionId)),refetchOnWindowFocus:!0,refetchInterval:6e4});let{product:{id:er,initialPriceCents:es,recurringPriceCents:ei},merchants:el,tokenization:{key:eo,username:ec}}=j;(0,w.Z)(()=>{(localStorage.log||Z.env.NEXT_PUBLIC_LOCAL)&&console.log({checkout:j})});let{meta:ed,getCardNumberProps:eu,getExpiryDateProps:em,getCardImageProps:ep,getCVCProps:eh}=q({autoFocus:!0,cardNumberValidator:e=>{let{cardType:t}=e;return"Visa"===t.displayName||"Mastercard"===t.displayName||"American Express"===t.displayName||"Discover"===t.displayName?"":"Card must be Visa, Mastercard, Discover, or American Express."}}),ex=(0,C.a)(["captcha"],()=>(0,I.hJ)("/api/captcha",{}),{enabled:!1,onError:e=>{tx({message:"Captcha error: "+e.message+". Try again.",type:"error"})}}),eg=(0,r.D)(async e=>{var t;let a=await (0,I.hJ)("/api/captcha/".concat(null===(t=ex.data)||void 0===t?void 0:t.id,"/solve"),{method:"POST",data:e});return String.fromCharCode(65+Math.floor(26*Math.random())),a.token=j.sessionId[0]+a.token+j.sessionId.at(-1),a}),[ey,ef]=(0,o.useState)(1!==j.plans.length&&A?void 0:j.plans[0].id),ev=(0,o.useMemo)(()=>j.plans.find(e=>e.id===ey),[ey,j]),[eb,ew]=(0,o.useState)((null==ev?void 0:null===(t=ev.paymentTypes)||void 0===t?void 0:t.length)===1?ev.paymentTypes[0]:void 0);(0,o.useEffect)(()=>{var e;!eb||(null==ev?void 0:null===(e=ev.paymentTypes)||void 0===e?void 0:e.includes(eb))||ew(void 0)},[ev]),o.useEffect;let eN=!!ee,{pricing:eC}=usePricingState({initialPriceCents:es,recurringPriceCents:ei}),[ej,eS]=(0,o.useState)(!1),[ek,eP]=(0,o.useState)((null==E?void 0:E.email)||(null==P?void 0:P.email)||String(p.email||"")),[eI,eA]=(0,o.useState)(String((null==E?void 0:E.firstName)||(null==P?void 0:null===(a=P.paymentMethods[0])||void 0===a?void 0:a.firstName)||p.firstName||"")),[eE,eT]=(0,o.useState)(String((null==E?void 0:E.lastName)||(null==P?void 0:null===(s=P.paymentMethods[0])||void 0===s?void 0:s.lastName)||p.lastName||"")),[eM,eD]=(0,o.useState)("true"===p.agreed),[eL,e_]=(0,o.useState)(!1),[eB,eF]=(0,o.useState)(L?null==P?void 0:P.defaultPaymentMethodId:void 0),eR=eB?null==P?void 0:P.paymentMethods.find(e=>e.id===eB):void 0,[eU,eO]=(0,o.useState)(null==P||!P.paymentMethods.length),eG=new ClientValueioApi(ec,eo),eV=(0,r.D)(async e=>{if(!eo||!ec){tx({type:"error",message:"Value.io configuration is missing"});return}try{console.debug("Creating card in value.io...");let{paymentMethod:t}=await createCard(eG,{three_d_result:e.three_d_result,token:e.token,email:e.email,brand:getValueioCardBrand(ed.cardType.displayName),number:eW.replace(/\s+/g,""),cvv:eX,month:+eq.split("/")[0],year:+eq.split("/")[1],first_name:eI,last_name:eE,zip:e0,address1:eK.address,city:eK.city,country:eK.country,state:eK.state,phone:eH},{ignoreCache:"razorpay"===U.id});return t}catch(e){throw console.error("ERROR!!!",e),e}}),[ez]=(0,y.G)(),[eK,eJ]=(0,o.useState)({address:"",city:"",country:j.country,state:""}),[eH,eZ]=(0,o.useState)(()=>{if(U.requiresPhone)return"";let e="+1";for(let t=0;t<10;t++)e+=Math.floor(10*Math.random());return e}),[eW,eY]=(0,o.useState)(""),[eq,eQ]=(0,o.useState)(p&&p.month&&p.year?"".concat(String(p.year).slice(-2)," / ").concat(padMonth(+p.month)):""),[eX,e$]=(0,o.useState)(""),[e0,e1]=(0,o.useState)(String(p.zip||"")),[e2,e3]=(0,o.useState)(!1),[e6,e4]=(0,o.useState)(!1),e5=(0,o.useMemo)(()=>{let e=!eU;return{...ed.erroredInputs,...e&&{cardNumber:"",expiryDate:"",zipField:""},email:L?"":ek&&(0,_.Z)(ek)?"":"Enter a valid email address",firstName:L?"":eI?"":"Enter your first name",lastName:L?"":eE?"":"Enter your last name",address:e?"":!eK.address&&Q?"Enter your street address":"",city:e?"":!eK.city&&Q?"Enter your city":"",state:e?"":!eK.state&&Q?"Enter your state/province":"",country:e?"":!eK.country&&Q?"Enter your country":"",zipCode:e?"":e0?"":"Enter your zip code",phone:e?"":X&&!(0,h.tm)(eH||"")?"Enter a valid phone number":"",agreed:L?"":eM?"":"You must agree to the Terms and Conditions and Privacy Policy",zip:void 0}},[ed.erroredInputs,eU,L,ek,eI,eE,eK.address,eK.city,eK.state,eK.country,Q,e0,eH,X,eM]),e7=(0,o.useMemo)(()=>Object.values(ed.erroredInputs).find(Boolean),[ed.erroredInputs]),[e8,e9]=(0,o.useState)(!1),[te,tt]=(0,o.useState)(!1),[ta,tn]=(0,o.useState)();usePendingPayment({payment:ta,onPaymentEvent:e=>{tn(void 0),"failure"===e.status?tx({type:"error",message:parseError(e.message,U.statementDescriptor)}):handleSuccess(e.redirect)}});let tr=useGateway({enabled:!0,publicApiKey:ee,gatewayProviderUrl:et}),ts=use3DSI({enabled:!0,publicApiKey:ee||""}),ti=(0,N.Z)(),tl=(0,o.useRef)(null),[to,tc]=(0,o.useState)(""),[td,tu]=(0,o.useState)({width:0,height:0,number:1});(0,o.useEffect)(()=>{let e=[{number:4,width:600,height:600},{number:3,width:700,height:600},{number:2,width:390,height:400},{number:1,width:300,height:400}];tu((()=>{let t=e.find(e=>{let{width:t,height:a}=e;return window.innerWidth>=t})||e[e.length-1];return t})())},[ti.width]);let[tm,tp]=(0,o.useState)(!1),th=(0,o.useMemo)(()=>0===Object.keys(p).length?"":"?".concat(Object.entries(p).map(e=>{let[t,a]=e,n=a.slice(0,100);return"".concat(t,"=").concat(n)}).join("&")),[p]),{displayToastMessage:tx,clearToastMessages:tg}=(0,d.T)(),ty=(0,o.useMemo)(()=>{var e;return{number:eW,brand:getValueioCardBrand((null===(e=ed.cardType)||void 0===e?void 0:e.displayName)||""),cvv:eX,month:eq?+eq.split("/")[0]:0,year:eq?+eq.split("/")[1]:0,firstName:eI,lastName:eE,zip:e0,phone:eH,countryCode:ea,address:eK}},[eK,eW,ea,eX,eq,eI,eE,null===(u=ed.cardType)||void 0===u?void 0:u.displayName,eH,e0]);(0,o.useEffect)(()=>{let e=getCardBrand(ty.number||""),t=el.brandOverrides[e]||el.default;t&&V(e=>e.id!==t?(console.debug("Brand override: Merchant set to ",t),el.lookup[t]||e):e)},[ty.number,el]),(0,w.Z)(()=>J.init(j.sessionId)),(0,w.Z)(()=>{g.Z.set("plans_group",A?"b":"a")}),(0,o.useEffect)(()=>{let e=ty.address.country.toUpperCase(),t=el.countryOverrides[e];t&&V(e=>e.id!==t?(console.debug("Country override: Merchant set to ",t),el.lookup[t]||e):e)},[ty.address.country,el]);let handleSuccess=e=>{document.body.classList.remove("payment-loading"),getAnalytics().then(e=>e.capture("checkout_success")),e9(!0),tx({type:"success",message:"Payment successful! Redirecting..."}),setTimeout(()=>{(0,G.l)(e)},17)},run3ds=async()=>{var e;if(!eN||(null===(e=U.threeDBrands)||void 0===e?void 0:e.length)&&!U.threeDBrands.includes(getCardBrand(eW)))return null;try{let e=!location.search.includes("nmi=true");if("nmi"!==$||e){if("threedsi"===$)return ts.challenge()}else{let e=await tr.createUi({cardNumber:ty.number.replace(/\s/g,""),cardExpMonth:padMonth(Number(ty.month)),cardExpYear:String(ty.year),currency:"USD",amount:String(es/100),email:ek.toLowerCase(),phone:ty.phone,city:ty.address.city,address1:ty.address.address,country:ty.countryCode.toUpperCase(),firstName:ty.firstName,lastName:ty.lastName,postalCode:ty.zip});if(e){let{threeDPromise:t,ui:a,skip3DS:n}=e;if(!n){tp(!0);try{return t}finally{a.unmount(),tp(!1)}}}}return null}catch(e){throw console.error("3DS Error",e),tp(!1),e}},get3dsReaction=async(e,t)=>{if(!t)return{action:"proceed"};{let e=["card authentication failed","timeout error","challenge authentication failed","exceeds acs maximum"].some(e=>{var a;return null==t?void 0:null===(a=t.message)||void 0===a?void 0:a.toLowerCase().includes(e)});return e?(console.debug("3DS error ignored",t),{action:"proceed"}):{action:"fail"}}},tf=(0,r.D)(async e=>{var t;let a,r;document.body.classList.add("payment-loading");let s=(null==e?void 0:e.isAch)?j.merchants.lookup[j.merchants.ach]:U;if(tt(!0),e3(!1),(null==e?void 0:e.leaveToasts)||tg(),e5.email||e5.firstName||e5.lastName)throw e3(!0),scrollToFirstError(),Error("Please fill out all required fields.");if(e5.agreed)throw e3(!0),scrollToFirstError(),Error("Please agree to the terms.");if(!(null==e?void 0:e.isAch)){if(e7)throw e3(!0),scrollToFirstError(),Error(e7);if(Object.values(e5).some(Boolean))throw e3(!0),scrollToFirstError(),Error("Please fill out all required fields.")}let o=await getAnalytics();console.debug("[PostHog] checkout_attempt"),o.capture("checkout_attempt",{creditCardInput:maskedCreditCardInput(ty),checkout_version:2});let createPaymentMethod=async()=>{if(null==e?void 0:e.overridePaymentMethod)return e.overridePaymentMethod;if(!eU&&eB)return await (0,c.TV)({token:k,id:eB,cvv:ty.cvv}),eB;if(null==z?void 0:z.disablePaymentMethod)return"";let t=await eV.mutateAsync({email:ek,token:L?k:void 0});if(s.requiresPhone&&t&&!t.phoneVerified){let e=await (0,c.ig)(t.id);if("pending"===e.status){let e=await ez(e=>{let{answer:a}=e;return(0,n.jsx)(PhoneConfirmDialog,{phone:t.phone,paymentMethodId:t.id,onClose:()=>a(!1),onVerified:()=>a(!0)})});if(!e)throw Error("Phone number not verified")}}return(0,x.d)({type:"PAYMENT_METHOD_ADDED",payload:t}),(null==t?void 0:t.id)||""},{paymentMethodId:d,threeDResult:u}=await pProps({paymentMethodId:createPaymentMethod(),threeDResult:(async()=>{if(null==e?void 0:e.isAch)return null;try{if(!eU)return null;return await run3ds()}catch(e){return r=e,b.Tb(e,{extra:{creditCardInput:maskedCreditCardInput(ty)}}),null}})()});await (0,f.EQ)(await get3dsReaction(u,r)).with({action:"fail"},async()=>{throw r||Error("3DSecure failure.")}).otherwise(()=>{});let m={screenWidth:window.innerWidth,screenHeight:window.innerHeight,timezone:new Date().getTimezoneOffset()/60,colorDepth:window.screen.colorDepth,language:navigator.language,challengeWindowSize:td.number,accept:"text/html",userAgent:navigator.userAgent,...ty.address,phone:ty.phone},h=W(Y(W((null===(t=eg.data)||void 0===t?void 0:t.token)||""))),g=h[0];h=h.slice(1);let y=ty.number.replace(/\s/g,"").slice(0,6),v={subscriptionId:B,payment_method_id:d,query:th.toString(),merchant:s.id,customerMetadata:m,productId:er,planId:ey,threeDResult:null!=u?u:void 0,cardBin:y,sessionId:j.sessionId,captchaToken:c.gh.encode([g,!1,0,"",h].filter(e=>e).join("")),challengeToken:O.getTokenValue(),dry_run:!!p.dry_run,...(null==z?void 0:z.beforePayment)?await z.beforePayment():{}};console.debug("[PostHog] checkout_pay"),o.capture("checkout_pay",{...v,checkout_version:2});try{a=await (0,I.hJ)("/api/payment",{method:"POST",data:v,headers:{"x-captcha-version":"2",...L?{"x-access-token":k}:{}}})}catch(e){throw b.Tb(e,{extra:{creditCardInput:maskedCreditCardInput(ty)}}),e}if("failure"===a.status)throw Error(parseError(a.message,s.statementDescriptor));return"pending"===a.status?tn(a):(0,x.d)({type:"PAYMENT_SUCCESS",payload:a}),a},{onError:e=>("string"==typeof e&&(e=Error(e)),document.body.classList.remove("payment-loading"),O.reset(),eg.reset(),ex.remove(),L||(v.H.boot(),eS(!0)),null==z||z.onError(e),"Dry run, no payment created. ✅"===e.message)?(e9(!0),tx({type:"success",message:"(DRY RUN) Payment Successful"})):e.message?void(e instanceof Error?tx({type:"error",message:e.message}):tx({type:"error",message:e&&(null==e?void 0:e.message)||"Payment Failed"})):tx({type:"error",message:"Network error. Please try again."}),onSuccess:e=>{(null==e?void 0:e.status)==="success"&&handleSuccess(e.redirect)}}),[tv,tb]=(0,o.useState)(!1),[tw,tN]=(0,o.useState)(void 0),{data:tC}=(0,C.a)(["/api/products/crypto"],async()=>(0,I.hJ)("/api/products/crypto",{}));(0,o.useEffect)(()=>{if(tC&&!tw){var e;tN(null==tC?void 0:null===(e=tC.tokens[0])||void 0===e?void 0:e.id)}},[tC,tw,tN]);let tj=(0,r.D)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tw||"";if(tg(),!ek||!eI||!eE)throw Error("Please fill out all required fields.");if(!ev)throw Error("Select a Plan");if(!e)throw Error("Select a Token");let t=await (0,I.hJ)("/api/payment/crypto",{method:"POST",headers:{"Content-Type":"application/json",...L&&{"x-access-token":k}},body:JSON.stringify({affiliateId:p.a,subid:p.subid,planId:ev.id,tokenId:e,subscriptionId:B,email:ek})});return tx({type:"success",message:"Crypto payment ready, redirecting..."}),(0,G.l)("/checkout/session/".concat(t.id)),await new Promise(e=>setTimeout(e,3e3)),t},{onError:e=>{tx({type:"error",message:parseError(e.message,U.statementDescriptor)})}}),tS=(0,o.useRef)(!1);(0,o.useEffect)(()=>{tS.current||(getAnalytics().then(e=>{console.debug("[PostHog] Capturing checkout_land"),e.capture("checkout_land",{show_plans:A,is_affiliate:!!p.a,merchant:U.id,affiliateId:p.a,subid:p.subid,checkout_version:2})}),tS.current=!0)},[]);let tk=(0,o.useRef)(!1),tP=(0,o.useRef)(F()(e=>{getAnalytics().then(t=>{console.debug("[PostHog] Identifying user as ",e),t.identify(e,{checkout_version:2})}),b.av({email:e}),tk.current=!0},1e3)).current;(0,o.useEffect)(()=>{!ek||e5.email||tk.current||tP(ek)},[ek,e5,tk,tP]);let tI=use3DigitCountryCode((null==ty?void 0:ty.address.country)||""),tA={pan:ty.number.replace(/\s/g,""),year:+ty.year.toString().slice(-2),month:ty.month<10?"0".concat(ty.month," "):ty.month,billingLine1:ty.address.address.slice(0,50),billingPostCode:ty.zip.slice(0,16),billingCity:ty.address.city.slice(0,50),billingCountry:tI,addrMatch:"Y",amount:eC.initialTotal/100,email:ek,mobileCC:"1",mobilePhoneNum:ty.phone.slice(2),shipIndicator:"05",deliveryTimeFrame:"01",reorderItemsInd:"01"};return{threedsiData:tA,pricing:eC,requiresAddress:Q,requiresPhone:X,shownValidationErrors:e5,getCardNumberProps:eu,setCardNumber:eY,cardNumber:eW,getExpiryDateProps:em,expiryDate:eq,setExpiryDate:eQ,cvc:eX,setCvc:e$,editFullAddress:eL,address:eK,setEditFullAddress:e_,setZipCode:e1,setCountryCode:en,setAddress:eJ,zipCode:e0,email:ek,setEmail:eP,setAgreed:eD,showValidationErrors:e2,agreed:eM,getCardImageProps:ep,isSuccess:e8,setIsSuccess:e9,submitted:te,setSubmitted:tt,creditCardInput:ty,cardValidationError:e7,ref:S,firstName:eI,lastName:eE,setFirstName:eA,submitPayment:tf,setLastName:eT,show3d:tm,iframeRef:tl,iframeSrc:to,secureWindowConfig:td,cryptoDialogOpen:tv,setCryptoDialogOpen:tb,setShowValidationErrors:e3,submitCryptoPaymentMutation:tj,selectedToken:tw,setSelectedToken:tN,cryptoProducts:tC,setShowCryptoValidationErrors:e4,showCryptoValidationErrors:e6,pendingPayment:ta,getCVCProps:eh,cardType:ed.cardType,captchaRes:ex,solveCaptchaMutation:eg,showIntercom:ej,checkout:j,merchant:U,phone:eH,setPhone:eZ,auxPaymentConfig:z,setAuxPaymentConfig:K,createValueioCard:eV,run3ds,get3dsReaction,isAuthenticated:L,defaultPaymentMethodId:(null==P?void 0:P.defaultPaymentMethodId)||(null==P?void 0:null===(m=P.paymentMethods[0])||void 0===m?void 0:m.id),paymentMethods:(null==P?void 0:P.paymentMethods)||[],selectedMethodId:eB,setSelectedMethodId:eF,isNewCard:eU,isRenewal:R,setIsNewCard:eO,selectedMethod:eR,userToken:k,paymentType:eb,setPaymentType:ew,plan:ev,setPlanId:ef,hidePersonalInformation:!!p.hide_personal_information,brand:D,valueioApi:eG,handleSuccess}}let X=(0,o.createContext)(null),useMainFormContext=()=>(0,o.useContext)(X)},3928:function(e,t,a){"use strict";a.d(t,{g:function(){return CheckCircleFilled}});var n=a(7437);a(2265);let CheckCircleFilled=e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className||"lg:h-[29px] lg:w-[29px] h-[24px] w-[24px]",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:e.fill,d:"M11.951 0C5.388 0 0 5.163 0 11.452c0 3.191 1.371 6.101 3.527 8.166a12.28 12.28 0 0 0 8.424 3.38C18.612 22.997 24 17.834 24 11.451 24 5.162 18.612 0 11.951 0ZM6.073 9.668l3.527 3.38 8.327-7.98 2.547 2.441L9.6 17.93l-6.073-5.82 2.547-2.44Z"})})},2881:function(e,t,a){"use strict";a.d(t,{P:function(){return usePayWithAch}});var n=a(5010),r=a(2265),s=a(4015),o=a(38),c=a.n(o),d=a(1615),u=a(5764);let m=!1,loadSeamless=()=>{if(m)return;let e=document.createElement("script");e.async=!0,e.src="https://developers.seamlesschex.com/docs/checkoutjs/sdk-min.js",document.head.appendChild(e),m=!0;let t=document.createElement("div");t.className="wrapper-pay-buttons",t.style.display="none",document.body.appendChild(t)};function usePayWithAch(e){let t=(0,n.r9)(),{checkout:a,submitPayment:o,userToken:m,email:p,firstName:h,lastName:x,agreed:g,paymentType:y}=null!=e?e:t,{clearToastMessages:f}=(0,d.T)(),v=a.merchants.lookup[a.merchants.ach];(0,r.useEffect)(()=>{"bank_account"===y&&loadSeamless()},[y]);let{displayToastMessage:b}=(0,d.T)();async function onSeamlessSuccess(){let{user_id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return;b({message:"Account connected! Initiating transfer...",type:"info"});let t=await (0,s.hJ)("/api/payment-method",{method:"POST",headers:m?{"x-access-token":m}:{},body:JSON.stringify({source_id:e,merchant:v.id,firstName:h,lastName:x,email:p})});await o.mutateAsync({leaveToasts:!0,overridePaymentMethod:t.id,isAch:!0})}return(0,u.D)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(null==e?void 0:e.skipAgree)||g;if(!p||!c()(p)||!h||!x||!t)return o.mutate(void 0);f(),await new Promise((e,t)=>{var n={publicKey:v.gatewayProviderPublicKey,sandbox:v.gatewayProviderPublicKey.includes("pk_test"),saveBankDetails:!0,displayMethod:"iframe",paymentToken:a.sessionId,storeName:"The Real World",widgetContainerSelector:"wrapper-pay-buttons",authorizationOnly:!0,checkout:{totalValue:49.99,currency:"USD",description:"The Real World",items:[{title:"Monthly Subscription",price:49.99}],customerEmail:p,customerFirstName:h,customerLastName:x},onSuccess:a=>{onSeamlessSuccess(a).then(e,t)},onError:t,onExit:()=>e(void 0),onCancel:()=>e(void 0)};new PAYNOTE(n).render(),function tryOpen(){let e=document.querySelector("body > dialog");e?e.setAttribute("open",""):setTimeout(tryOpen,100)}()})})}},5765:function(e,t,a){"use strict";a.d(t,{$:function(){return r}});var n=a(2131);let r=n.Z},4810:function(e,t,a){"use strict";a.d(t,{E:function(){return toDisplayDollars},a:function(){return toDisplayCurrency}});let toDisplayDollars=e=>{let t=Math.abs(e/100).toFixed(2);return Math.round(e/100)===e/100&&(t=String(Math.abs(Math.round(e/100)))),"".concat(e<0?"-":"","$").concat(t)},toDisplayCurrency=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return"USD"===t?toDisplayDollars(e):Math.round(e/100)}},4028:function(e,t,a){"use strict";a.d(t,{TT:function(){return phoneValidationRedeem},TV:function(){return updatePaymentMethod},gh:function(){return r},ig:function(){return phoneValidationSend},pd:function(){return parseCheckout},ud:function(){return formatCheckout}});var n=a(4015);a(2601);let r={encode:e=>e.split("").map(e=>String.fromCharCode(e.charCodeAt(0)-1)).join(""),decode:e=>e.split("").map(e=>String.fromCharCode(e.charCodeAt(0)+1)).join("")},fromBase64=e=>window.atob(e),toBase64=e=>window.btoa(e);function formatCheckout(e){return r.encode(toBase64(JSON.stringify(e)))}function parseCheckout(e){return JSON.parse(fromBase64(r.decode(e)))}async function updatePaymentMethod(e){return await (0,n.hJ)("/api/payment-method/update",{method:"PUT",headers:{"x-access-token":e.token},body:JSON.stringify({id:e.id,cvv:e.cvv})})}async function phoneValidationSend(e){return await (0,n.hJ)("/api/payment-method/".concat(e,"/validate-phone"),{method:"POST"})}async function phoneValidationRedeem(e,t){return await (0,n.hJ)("/api/payment-method/".concat(e,"/validate-phone"),{method:"PUT",body:JSON.stringify({code:t})})}},8938:function(e,t,a){"use strict";a.d(t,{H:function(){return n}});let getIntercom=()=>window.Intercom,n={boot:()=>{let e="z3s8zv7r";!function(e){var t=window,a=t.Intercom;if("function"==typeof a)a("reattach_activator"),a("update",t.intercomSettings);else{var n=document,i=function(){i.c(arguments)};i.q=[],i.c=function(e){i.q.push(e)},t.Intercom=i;var l=function(){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://widget.intercom.io/widget/"+e;var a=n.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)};"complete"===document.readyState?l():t.attachEvent?t.attachEvent("onload",l):t.addEventListener("load",l,!1)}}(e),getIntercom()("boot",{app_id:e,api_base:"https://api-iam.intercom.io",hide_default_launcher:!0})},update:e=>{getIntercom()("update",{user_id:e.userId,user_hash:e.userHash,email:e.email,customAttributes:{username:e.username}})},show:()=>getIntercom()("show"),hide:()=>getIntercom()("hide"),shutdown:()=>getIntercom()("shutdown")}},3145:function(){},9893:function(e,t){"use strict";t.Z={src:"/checkout/_next/static/media/check.a31a9a4b.svg",height:16,width:20,blurWidth:0,blurHeight:0}}}]);